{"version":3,"sources":["lib/react-query.js","components/Elements/TabPanel/TabPanel.js","assets/thoth-logo.png","components/Elements/SearchBar/SearchBar.js","config/index.js","features/misc/api/getPackageMetadata.js","features/home/components/PackageSearch.js","features/home/api/postAdvise.js","features/home/components/ComboBox/ComboBox.js","features/home/components/AdviseCreation.js","features/home/routes/index.js","features/misc/routes/NotFound.js","components/Footer/Footer.js","components/Layout/MainLayout.js","components/Layout/AdviseLayout.js","components/Elements/InfoCard/InfoCard.js","components/Elements/IconText/IconText.js","features/advise/utils/formatLockfile.js","utils/timeSince.js","features/advise/utils/calcTime.js","features/advise/utils/discoverPackageChanges.js","features/advise/components/AdviseHeader/CustomAlert/CustomAlert.js","features/advise/components/AdviseHeader/AdviseHeader.js","components/Elements/ProgressBar/ProgressBar.js","features/advise/components/AdviseMetric/AdviseMetric.js","features/advise/components/CustomCardAction/CustomCardAction.js","features/advise/components/DependenciesMetric/DependenciesMetric.js","features/advise/components/LicenseMetric/LicenseGroup/LicenseGroup.js","features/advise/components/LicenseMetric/LicenseMetric.js","features/advise/components/AdviseTableView/utils.js","features/advise/components/AdviseTableView/EnhancedTableHead/EnhancedTableHead.js","utils/Node.js","features/advise/features/components/Popup/Popup.js","utils/Graph.js","features/advise/features/components/NetworkGraphView/NetworkGraphView.js","features/advise/features/components/SelectedPackage/SelectedPackage.js","features/advise/routes/AdviseDetails.js","features/advise/components/AdviseTableView/AdviseTableView.js","features/advise/components/LockfileView/LockfileView.js","features/advise/routes/AdviseSummary.js","features/advise/api/getPackageDependencies.js","features/advise/api/getAdviseDocument.js","features/advise/api/getAdviseLogs.js","features/advise/hooks/useGraph.js","features/advise/hooks/useMetrics.js","features/advise/routes/AdviseNotFound.js","components/Layout/NavigationLayout.js","features/advise/routes/index.js","features/advise/hooks/useMergeGraphs.js","features/package/components/PackageHeader/PackageHeader.js","features/package/routes/PackageOverview.js","features/package/components/PackageDependencies/PackageDependencies.js","features/package/components/PackageLicenses/PackageLicenses.js","features/package/routes/PackageNotFound.js","features/package/routes/index.js","routes/RouterConfig.js","styles/Theme.js","stores/Global.js","providers/app.js","App.js","index.js"],"names":["queryClient","QueryClient","defaultOptions","queries","useErrorBoundary","refetchOnWindowFocus","retry","TabPanel","children","value","index","props","role","hidden","id","className","SearchBar","onChange","onEnter","label","helpertext","boxprops","error","lefticon","righticon","Box","Typography","variant","sx","color","Paper","component","p","display","alignItems","borderColor","undefined","paddingLeft","paddingRight","InputBase","ml","flex","placeholder","e","target","onKeyPress","ev","key","preventDefault","THOTH_URL","options","manipulation","enabled","editNode","nodeData","callback","fixed","x","interaction","hover","hoverConnectedEdges","selectConnectedEdges","selectable","edges","chosen","smooth","arrowStrikethrough","arrows","from","type","nodes","background","border","shape","size","borderWidth","labelHighlightBold","font","strokeWidth","physics","hierarchicalRepulsion","damping","springLength","solver","minVelocity","getPackageMetadata","name","version","a","axios","get","params","headers","accept","catch","response","status","isAxiosError","getPackageMetadataPyPi","PYPI_URL","usePackagesMetadata","packages","config","useQueries","map","queryKey","queryFn","PackageSearch","navigate","useNavigate","useState","searchQuery","setSearchQuery","searchError","setSearchError","handleAnalyze","then","data","info","Grid","container","justifyContent","alignSelf","item","xs","minHeight","spacing","md","handleChange","mr","Button","onClick","minWidth","postAdvise","pipfile","pipfileLock","runtime_environment","application_stack","requirements","requirements_format","requirements_lock","post","recommendation_type","limit","filter","createFilterOptions","ComboBox","suggestions","help","required","setValue","useMemo","suggestion","title","Autocomplete","event","newValue","inputValue","filterOptions","filtered","isExisting","some","option","push","selectOnFocus","clearOnBlur","handleHomeEndKeys","getOptionLabel","renderOption","freeSolo","renderInput","fullWidth","helperText","reducer","state","action","loading","payload","param","Error","initState","lookupType","operating_system_name","operating_system_version","platform","python_version","cuda_version","cudnn_version","mkl_version","openblas_version","openmpi_version","base_image","AdviseCreation","useReducer","dispatch","isValid","valid","operating_system","Object","keys","forEach","analysis_id","includes","Collapse","in","mt","backgroundColor","padding","marginBottom","multiline","rows","sm","TextField","LoadingButton","Home","mode","setMode","theme","useTheme","matches","useMediaQuery","breakpoints","up","style","maxWidth","marginLeft","marginRight","marginTop","alt","src","logo","height","width","align","mb","direction","stat","i","ToggleButtonGroup","exclusive","newMode","ToggleButton","Divider","NotFound","Footer","pb","pt","textAlign","useStyles","makeStyles","root","MainLayout","classes","AdviseLayout","header","location","useLocation","Tabs","pathname","split","at","indicatorColor","textColor","Tab","RouterLink","to","bullet","margin","transform","fontSize","pos","InfoCard","cardMeta","cardBody","cardAction","Card","CardHeader","subheader","subTitle","CardContent","IconText","text","icon","link","href","formatLockfile","lockfile","entries","default","replace","timeSince","date","seconds","Math","floor","Date","interval","num","discoverPackageChanges","justifications","justifiedPackages","Map","justification","package_name","has","set","node","package","change","depth","reasons","start","visited","visitList","reasonNodes","pop","parents","adj","length","reason","oldVersion","whyRemoved","thoth","CustomAlert","Alert","severity","toLowerCase","message","titleRow","linksRow","alert","AdviseHeader","finished_at","started_at","datetime","adviseDocument","logs","React","expandAlerts","setExpandAlerts","showLogs","setShowLogs","selectedLine","setSelectedLine","result","report","ERROR","toUpperCase","statusText","statusColor","alerts","stack_info","metadata","document_id","parameters","Chip","error_msg","timeout","unmountOnExit","slice","line","noWrap","CustomLinearProgress","withStyles","borderRadius","colorPrimary","palette","grey","bar","LinearProgress","gridTemplateColumns","gridGap","whiteSpace","overflow","textOverflow","ProgressBar","total","AdviseMetric","metric","added","removed","unchanged","justTotal","values","reduce","b","gutterBottom","build","Skeleton","CustomCardAction","DependenciesMetric","all","roots","totalDependencies","direct","indirect","List","TransitionGroup","t","ListItem","ListItemText","primary","LicenseGroup","totalLicenses","open","setOpen","isOsiApproved","my","sort","k","v","LicenseMetric","more","setMore","licenses","sum","val","descendingComparator","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","headCells","numeric","EnhancedTableHead","onRequestSort","TableHead","TableRow","headCell","TableCell","sortDirection","TableSortLabel","active","property","visuallyHidden","Node","this","adjacents","Set","add","Array","Popup","summary","license","latestVersion","Graph","vertex","source","destination","sourceNode","destinationNode","addAdjacent","isAdjacent","first","shift","getAdjacents","path","newPath","nextPath","findPath","parent","paths","findAllPaths","flexFlow","canvas","NetworkGraph","mergedGraph","visJsRef","useRef","selected","useContext","SelectedPackageContext","useEffect","selectedNode","findAllNodesOnAllPaths","convertedNodes","DataSet","popup","document","createElement","ReactDOM","render","visData","visEdges","network","current","Network","networkCanvas","getElementById","getElementsByTagName","on","changeCursor","isCluster","newCursorStyle","cursor","ref","SelectedPackage","setSelected","selectedPackage","dependents","justs","just","Link","underline","Fragment","advisory","NetworkGraphView","createContext","AdviseDetails","search","setSearch","Provider","s","AdviseTableView","filteredGraph","setOrder","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","setRows","console","log","newRows","warnings","dependencies","emptyRows","max","TableContainer","Table","TableBody","row","labelId","iconColor","tabIndex","scope","paddingBottom","paddingTop","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","AdviseSummary","metrics","setPipfile","handlePipfile","newPipfile","advise","getPackageDependencies","getAdviseDocument","getAdviseLogs","useGraph","knownRoots","allMetadata","allDependencies","allMetadataStatus","success","query","allDependenciesStatus","isLoading","graph","setGraph","tempGraph","reformattedDeps","isSuccess","addVertex","notRoot","dep","adjacentNode","addEdge","requires_dist","app","adjs","min","useDependencyMetric","setMetric","base","bfs","graphSearch","useLicenseMetric","packageLicenses","classifier","classifiers","parsed","generalLicense","specificLicense","specific","useAdviseMetric","os_release","python","implementation_name","major","minor","micro","analyzer","analyzer_version","products","AdviseNotFound","NavigationLayout","AdviseRoutes","useParams","useQuery","useAdviseDocument","refetchInterval","useAdviseLogs","initGraphData","project","requirements_locked","adviseGraphData","initGraph","adviseGraph","dependency_graph","oldGraph","newGraph","visGraphEdges","combinedNode","main","useMergeGraphs","adviseMetric","oldDependencyMetric","newDependencyMetric","oldLicenseMetric","newLicenseMetric","useMetrics","CircularProgress","element","PackageHeader","all_versions","latest_version","flexGrow","PackageOverview","PackageNotFound","package_version","PackageRoutes","RouterConfig","basename","exact","themeLight","createTheme","light","dark","secondary","priamry","typography","fontFamily","h4","fontWeight","lineHeight","h5","h6","body1","body2","subtitle1","subtitle2","Theme","ThemeProvider","CssBaseline","StateContext","DispatchContext","Global","ErrorFallback","window","assign","origin","AppProvider","FallbackComponent","client","App","StrictMode"],"mappings":"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","file":"static/js/main.9c9d3242.chunk.js","sourcesContent":["import { QueryClient } from \"react-query\";\n\nconst queryConfig = {\n    queries: {\n        useErrorBoundary: true,\n        refetchOnWindowFocus: false,\n        retry: false,\n    },\n};\n\nexport const queryClient = new QueryClient({ defaultOptions: queryConfig });\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A tab panel used to encapsulate different tab content.\n */\nconst TabPanel = ({ children, value, index, ...props }) => {\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            className={`${props.className}`}\n            {...props}\n        >\n            {value === index && children}\n        </div>\n    );\n};\n\nTabPanel.propTypes = {\n    /** The body of the tab. */\n    children: PropTypes.node,\n    /** The unique identifier of the tab. */\n    index: PropTypes.any.isRequired,\n    /** The state variable passed in from the parent which is compared to the index */\n    value: PropTypes.any.isRequired,\n    /** additional styling */\n    className: PropTypes.string,\n};\n\nexport default TabPanel;\n","export default __webpack_public_path__ + \"static/media/thoth-logo.1a28a729.png\";","import React from \"react\";\n\n// material ui\nimport { Typography, Box, Paper, InputBase } from \"@material-ui/core\";\n\n// react\nimport PropTypes from \"prop-types\";\n\n/**\n *\n */\nconst SearchBar = props => {\n    const {\n        onChange,\n        onEnter,\n        label,\n        helpertext,\n        boxprops,\n        error = false,\n        lefticon,\n        righticon,\n    } = props;\n\n    return (\n        <Box>\n            <Typography\n                variant={\"body1\"}\n                sx={{ color: error ? \"error.main\" : \"text.secondary\" }}\n            >\n                {label}\n            </Typography>\n            <Paper\n                component=\"form\"\n                variant=\"outlined\"\n                sx={{\n                    p: \"8px 4px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    borderColor: error ? \"red\" : undefined,\n                    paddingLeft: 2,\n                    paddingRight: 2,\n                }}\n                {...boxprops}\n            >\n                {lefticon}\n                <InputBase\n                    sx={{ ml: 1, flex: 1 }}\n                    placeholder={helpertext}\n                    error={error}\n                    onChange={e => onChange(e.target.value)}\n                    onKeyPress={ev => {\n                        if (ev.key === \"Enter\") {\n                            onEnter();\n                            ev.preventDefault();\n                        }\n                    }}\n                    {...props}\n                />\n                {righticon}\n            </Paper>\n        </Box>\n    );\n};\n\nSearchBar.propTypes = {\n    /** The error text or default label text */\n    label: PropTypes.string,\n    /** callback function when textbox content changes */\n    onChange: PropTypes.func.isRequired,\n    /** callback function when textbox ENTER is pressed */\n    onEnter: PropTypes.func,\n    /** helper text for the search bar */\n    helpertext: PropTypes.string,\n    /** if there is an error or not */\n    error: PropTypes.bool,\n    /** icon displayed on the left of the text box */\n    lefticon: PropTypes.node,\n    /** icon displayed on the right of the text box */\n    righticon: PropTypes.node,\n    /** Props added to the text box */\n    boxprops: PropTypes.any,\n};\n\nexport default SearchBar;\n","export const PYPI_URL = \"https://pypi.org/pypi\";\nexport const THOTH_URL = \"https://khemenu.thoth-station.ninja/api/v1\";\nexport const LICENSES_URL =\n    \"https://raw.githubusercontent.com/spdx/license-list-data/master/json/licenses.json\";\n\n/**\n * used for vis-js graph render engine\n */\nexport const options = {\n    manipulation: {\n        enabled: false,\n        editNode: function (nodeData, callback) {\n            nodeData.fixed = !nodeData.fixed.x;\n            callback(nodeData);\n        },\n    },\n    interaction: {\n        hover: true,\n        hoverConnectedEdges: false,\n        selectConnectedEdges: false,\n        selectable: true,\n    },\n    edges: {\n        chosen: false,\n        smooth: false,\n        color: {\n            color: \"#5c6470\",\n        },\n        arrowStrikethrough: false,\n        arrows: {\n            from: {\n                enabled: true,\n                type: \"triangle\",\n            },\n        },\n    },\n\n    nodes: {\n        chosen: false,\n        color: {\n            background: \"#5c6470\",\n            border: \"#fff\",\n            hover: {\n                background: \"#f39200\",\n                border: \"#fff\",\n            },\n        },\n        shape: \"dot\",\n        size: 10,\n        borderWidth: 2,\n        labelHighlightBold: false,\n        font: {\n            color: \"#393e46\",\n            strokeWidth: 2,\n            size: 15,\n        },\n    },\n    physics: {\n        hierarchicalRepulsion: {\n            damping: 0.1,\n            springLength: 200,\n        },\n        solver: \"hierarchicalRepulsion\",\n        minVelocity: 0.15,\n    },\n};\n","import axios from \"axios\";\nimport { THOTH_URL, PYPI_URL } from \"config\";\nimport { useQueries, useQuery } from \"react-query\";\n\nexport const getPackageMetadata = async (\n    name,\n    version,\n    index = \"https://pypi.org/simple\",\n) => {\n    return axios\n        .get(THOTH_URL + \"/python/package/metadata\", {\n            params: {\n                name: name,\n                version: version,\n                index: index,\n            },\n            headers: {\n                accept: \"application/json\",\n            },\n        })\n        .catch(e => {\n            if (e?.response?.status === 404 || e?.isAxiosError) {\n                return getPackageMetadataPyPi(name, version);\n            } else {\n                throw e;\n            }\n        });\n};\n\nexport const getPackageMetadataPyPi = (name, version) => {\n    return axios\n        .get(PYPI_URL + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\")\n        .catch(() => {\n            return undefined;\n        });\n};\n\nexport const usePackageMetadata = (name, version, config) => {\n    return useQuery({\n        ...config,\n        queryKey: [\"packageMetadata\", name, version],\n        queryFn: () => getPackageMetadata(name, version),\n    });\n};\n\nexport const usePackagesMetadata = (packages, config) => {\n    return useQueries(\n        packages.map(p => {\n            return {\n                ...config,\n                queryKey: [\"packageMetadata\", p.name, p.version],\n                queryFn: () => getPackageMetadata(p.name, p.version),\n            };\n        }),\n    );\n};\n","import { Button, Grid, Typography } from \"@material-ui/core\";\nimport SearchBar from \"../../../components/Elements/SearchBar\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport React, { useState } from \"react\";\nimport { getPackageMetadataPyPi } from \"../../misc/api\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport const PackageSearch = () => {\n    const navigate = useNavigate();\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [searchError, setSearchError] = useState(\"\");\n\n    const handleAnalyze = async () => {\n        // if no query\n        if (searchQuery === \"\") {\n            return;\n        }\n\n        getPackageMetadataPyPi(searchQuery)\n            .then(response => {\n                navigate(\"/package/\" + response.data.info.name);\n            })\n            .catch(() => {\n                setSearchError(\"Package does not exist\");\n            });\n    };\n\n    const handleChange = e => {\n        setSearchQuery(e.target.value);\n        if (searchError !== \"\") {\n            setSearchError(\"\");\n        }\n    };\n\n    return (\n        <Grid container justifyContent=\"center\">\n            <Grid alignSelf=\"flex-start\" item xs={12}>\n                <Typography\n                    color=\"error\"\n                    variant=\"body1\"\n                    sx={{ minHeight: 30 }}\n                >\n                    {searchError ?? \"\"}\n                </Typography>\n            </Grid>\n            <Grid container spacing={2} item xs={12}>\n                <Grid item xs={12} md={10}>\n                    <SearchBar\n                        error={searchError !== \"\"}\n                        onChange={e => handleChange(e)}\n                        helpertext={\"Search for a Python package\"}\n                        type=\"search\"\n                        boxprops={{ mr: 2 }}\n                        lefticon={<SearchRoundedIcon />}\n                    />\n                </Grid>\n                <Grid item xs={12} md={2}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => handleAnalyze()}\n                        sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                    >\n                        <b>Analyze</b>\n                    </Button>\n                </Grid>\n            </Grid>\n        </Grid>\n    );\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\n\nexport const postAdvise = (pipfile, pipfileLock, runtime_environment) => {\n    const data = {\n        application_stack: {\n            requirements: pipfile,\n            requirements_format: \"pipenv\",\n            requirements_lock: pipfileLock,\n        },\n        runtime_environment: runtime_environment,\n    };\n\n    return axios.post(THOTH_URL + \"/advise/python\", data, {\n        params: {\n            recommendation_type: \"stable\",\n            limit: 5000,\n        },\n        headers: {\n            accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n    });\n};\n","import * as React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete, { createFilterOptions } from \"@mui/material/Autocomplete\";\nimport { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst filter = createFilterOptions();\n\nexport default function ComboBox({\n    suggestions,\n    label,\n    help,\n    required,\n    error,\n    value,\n    setValue,\n}) {\n    suggestions = useMemo(() => {\n        return suggestions.map(suggestion => {\n            return {\n                title: suggestion,\n            };\n        });\n    }, [suggestions]);\n\n    return (\n        <Autocomplete\n            value={value}\n            onChange={(event, newValue) => {\n                if (typeof newValue === \"string\") {\n                    setValue(newValue);\n                } else if (newValue && newValue.inputValue) {\n                    // Create a new value from the user input\n                    setValue({ title: newValue.inputValue });\n                } else {\n                    setValue(newValue);\n                }\n            }}\n            filterOptions={(options, params) => {\n                const filtered = filter(options, params);\n\n                const { inputValue } = params;\n                // Suggest the creation of a new value\n                const isExisting = options.some(\n                    option => inputValue === option.title,\n                );\n                if (inputValue !== \"\" && !isExisting) {\n                    filtered.push({\n                        inputValue,\n                        title: `Add \"${inputValue}\"`,\n                    });\n                }\n\n                return filtered;\n            }}\n            selectOnFocus\n            clearOnBlur\n            handleHomeEndKeys\n            id=\"free-solo-with-text-demo\"\n            options={suggestions ?? []}\n            getOptionLabel={option => {\n                // Value selected with enter, right from the input\n                if (typeof option === \"string\") {\n                    return option;\n                }\n                // Add \"xxx\" option created dynamically\n                if (option.inputValue) {\n                    return option.inputValue;\n                }\n                // Regular option\n                return option.title;\n            }}\n            renderOption={(props, option) => <li {...props}>{option.title}</li>}\n            freeSolo\n            renderInput={params => (\n                <TextField\n                    fullWidth\n                    {...params}\n                    label={label}\n                    required={required}\n                    error={error !== undefined}\n                    helperText={help}\n                />\n            )}\n        />\n    );\n}\n\nComboBox.propTypes = {\n    suggestions: PropTypes.array,\n    label: PropTypes.string,\n    help: PropTypes.string,\n    required: PropTypes.bool,\n    error: PropTypes.any,\n    value: PropTypes.object,\n    setValue: PropTypes.func,\n};\n","import {\n    Button,\n    Collapse,\n    Grid,\n    Paper,\n    TextField,\n    Typography,\n} from \"@material-ui/core\";\nimport SearchBar from \"components/Elements/SearchBar\";\nimport React, { useReducer } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoadingButton from \"@material-ui/lab/LoadingButton\";\nimport { postAdvise } from \"../api\";\nimport ComboBox from \"./ComboBox/ComboBox\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"loading\":\n            return { ...state, loading: action.payload };\n        case \"error\":\n            return {\n                ...state,\n                error: { ...state.error, [action.param]: action.payload },\n            };\n        case \"clear-error\":\n            state.error = {};\n            return state;\n        case \"input\":\n            return {\n                ...state,\n                [action.param]: action.payload,\n                error: { ...state.error, [action.param]: undefined },\n            };\n        default:\n            throw new Error(\"Advise state dispatch error\");\n    }\n}\n\nexport const initState = {\n    error: {},\n    loading: false,\n    lookupType: \"id\",\n    operating_system_name: \"ubi\",\n    operating_system_version: \"8\",\n    platform: \"\",\n    python_version: \"3.8\",\n    cuda_version: \"\",\n    cudnn_version: \"\",\n    mkl_version: \"\",\n    name: \"\",\n    openblas_version: \"\",\n    openmpi_version: \"\",\n    base_image: \"\",\n};\n\nexport const AdviseCreation = () => {\n    const navigate = useNavigate();\n    const [state, dispatch] = useReducer(reducer, initState);\n\n    const isValid = () => {\n        if (state.lookupType === \"id\") {\n            if (!state.id || state.id === \"\") {\n                dispatch({\n                    type: \"error\",\n                    param: \"id\",\n                    payload: \"Field cant be empty\",\n                });\n                return false;\n            }\n        } else {\n            let valid = true;\n            if (!state.pipfile) {\n                valid = false;\n                dispatch({\n                    type: \"error\",\n                    param: \"pipfile\",\n                    payload: \"Field cant be empty\",\n                });\n            }\n            if (!state.pipfileLock) {\n                valid = false;\n                dispatch({\n                    type: \"error\",\n                    param: \"pipfileLock\",\n                    payload: \"Field cant be empty\",\n                });\n            }\n            if (!state.name) {\n                valid = false;\n                dispatch({\n                    type: \"error\",\n                    param: \"name\",\n                    payload: \"Field cant be empty\",\n                });\n            }\n\n            return valid;\n        }\n\n        return true;\n    };\n\n    const handleAnalyze = async () => {\n        if (state.loading || !isValid()) {\n            return;\n        }\n\n        if (state.lookupType === \"id\") {\n            navigate(\"/advise/\" + state.id);\n        } else {\n            dispatch({ type: \"loading\", payload: true });\n            const runtime_environment = {\n                operating_system: {\n                    name: state.operating_system_name,\n                    version: state.operating_system_version,\n                },\n                platform: state.platform,\n                python_version: state.python_version,\n                base_image: state.base_image,\n                cuda_version: state.cuda_version,\n                cudnn_version: state.cudnn_version,\n                mkl_version: state.mkl_version,\n                name: state.name,\n                openblas_version: state.openblas_version,\n                openmpi_version: state.openmpi_version,\n            };\n\n            Object.keys(runtime_environment).forEach(key => {\n                if (runtime_environment[key] === \"\") {\n                    delete runtime_environment[key];\n                }\n            });\n            if (\n                runtime_environment[\"operating_system\"][\"name\"] === \"\" ||\n                runtime_environment[\"operating_system\"][\"version\"] === \"\"\n            ) {\n                delete runtime_environment[\"operating_system\"];\n            }\n\n            postAdvise(state.pipfile, state.pipfileLock, runtime_environment)\n                .then(response => {\n                    dispatch({ type: \"loading\", payload: false });\n                    navigate(\"/advise/\" + response.data.analysis_id);\n                })\n                .catch(error => {\n                    dispatch({ type: \"loading\", payload: false });\n                    if (error?.response?.status === 400) {\n                        if (\n                            error?.response?.data?.error?.includes(\n                                \"Pipfile.lock\",\n                            )\n                        ) {\n                            dispatch({\n                                type: \"error\",\n                                param: \"pipfileLock\",\n                                payload: error?.response?.data?.error,\n                            });\n                        } else if (\n                            error?.response?.data?.error?.includes(\"Pipfile\")\n                        ) {\n                            dispatch({\n                                type: \"error\",\n                                param: \"pipfile\",\n                                payload: error?.response?.data?.error,\n                            });\n                        }\n                    }\n                });\n        }\n    };\n\n    return (\n        <>\n            <Collapse in={state.lookupType === \"id\"}>\n                <>\n                    <Grid container justifyContent=\"center\">\n                        <Grid item xs={12}>\n                            <Typography\n                                color=\"error\"\n                                variant=\"body1\"\n                                sx={{ minHeight: 30 }}\n                            >\n                                {state.error?.id}\n                            </Typography>\n                        </Grid>\n                        <Grid container item xs={12} spacing={2}>\n                            <Grid item xs={12} md={10}>\n                                <SearchBar\n                                    error={state.error?.id}\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"id\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    helpertext={\"Analysis ID\"}\n                                    type=\"search\"\n                                    boxprops={{ mr: 2 }}\n                                    lefticon={<SearchRoundedIcon />}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={2}>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={() => handleAnalyze()}\n                                    sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                                >\n                                    <b>Analyze</b>\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                    <Button\n                        onClick={() =>\n                            dispatch({\n                                type: \"input\",\n                                param: \"lookupType\",\n                                payload: \"manual\",\n                            })\n                        }\n                    >\n                        New Advise\n                    </Button>\n                </>\n            </Collapse>\n\n            <Collapse in={state.lookupType === \"manual\"}>\n                <>\n                    <Typography variant={\"h6\"} mt={3}>\n                        Advise Parameters\n                    </Typography>\n                    <Paper\n                        sx={{\n                            backgroundColor: \"white\",\n                            padding: 3,\n                            marginBottom: 5,\n                        }}\n                        variant=\"outlined\"\n                    >\n                        <Grid container spacing={2}>\n                            <Grid item xs={12} md={6}>\n                                <SearchBar\n                                    label={\n                                        state.error?.pipfile\n                                            ? state.error?.pipfile\n                                            : \"Pipfile contents\"\n                                    }\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"pipfile\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    error={state.error?.pipfile !== undefined}\n                                    multiline\n                                    rows={8}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={6}>\n                                <SearchBar\n                                    label={\n                                        state.error?.pipfileLock\n                                            ? state.error?.pipfileLock\n                                            : \"Pipfile.lock contents\"\n                                    }\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"pipfileLock\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    error={\n                                        state.error?.pipfileLock !== undefined\n                                    }\n                                    multiline\n                                    rows={8}\n                                />\n                            </Grid>\n                        </Grid>\n                        <Grid container mt={4} spacing={2}>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"base_image\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    value={state.base_image}\n                                    sx={{ minWidth: \"100%\" }}\n                                    label=\"Base Image\"\n                                    required={false}\n                                    helperText=\"A base container image used to run the application.\"\n                                    error={state.error?.base_image}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"cuda_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.cuda_version}\n                                    suggestions={[\"9.0\"]}\n                                    label=\"CUDA Version\"\n                                    required={false}\n                                    help=\"Nvidia CUDA version which the application uses.\"\n                                    error={state.error?.cuda_version}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"cudnn_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.cudnn_version}\n                                    suggestions={[\"8\"]}\n                                    label=\"cuDNN Version\"\n                                    required={false}\n                                    help=\"NVIDIA cuDNN version used, if any.\"\n                                    error={state.error?.cudnn_version}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"mkl_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.mkl_version}\n                                    suggestions={[\"2021.1.1\"]}\n                                    label=\"MKL Version\"\n                                    required={false}\n                                    help=\"Intel Math Kernel Library version used, if any.\"\n                                    error={state.error?.mkl_version}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"name\",\n                                            payload: e.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.name}\n                                    suggestions={[\"ubi:8-prod\"]}\n                                    label=\"Name\"\n                                    required={true}\n                                    help=\"User defined name of the runtime environment.\"\n                                    error={state.error?.name}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"openblas_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.openblas_version}\n                                    suggestions={[\"0.3.13\"]}\n                                    label=\"OpenBLAS Version\"\n                                    required={false}\n                                    help=\"OpenBLAS version used, if any.\"\n                                    error={state.error?.openblas_version}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"openmpi_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.openmpi_version}\n                                    suggestions={[\"4.1\"]}\n                                    label=\"Open MPI Version\"\n                                    required={false}\n                                    help=\"Open MPI version used, if any.\"\n                                    error={state.error?.openmpi_version}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"operating_system_name\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    value={state.operating_system_name}\n                                    sx={{ minWidth: \"100%\" }}\n                                    label=\"Operating System Name\"\n                                    required={false}\n                                    helperText=\"Operating system name used.\"\n                                    error={state.error?.operating_system_name}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"operating_system_version\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    value={state.operating_system_version}\n                                    sx={{ minWidth: \"100%\" }}\n                                    label=\"Operating System Version\"\n                                    required={false}\n                                    helperText=\"Operating system version used.\"\n                                    error={\n                                        state.error?.operating_system_version\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"platform\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.platform}\n                                    suggestions={[\"linux-x86_64\"]}\n                                    label=\"Platform\"\n                                    required={false}\n                                    help=\"Platform used - corresponds to sysconfig.get_platform() call.\"\n                                    error={state.error?.platform}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"python_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.python_version}\n                                    suggestions={[\n                                        \"2.7\",\n                                        \"3.6\",\n                                        \"3.7\",\n                                        \"3.8\",\n                                        \"3.9\",\n                                    ]}\n                                    label=\"Python Version\"\n                                    required={false}\n                                    help=\"Python version on which the application runs on.\"\n                                    error={state.error?.python_version}\n                                />\n                            </Grid>\n                            <Grid container item xs={12} spacing={2}>\n                                <Grid item xs={6} md={6}>\n                                    <Button\n                                        variant=\"outlined\"\n                                        color=\"primary\"\n                                        onClick={() =>\n                                            dispatch({\n                                                type: \"input\",\n                                                param: \"lookupType\",\n                                                payload: \"id\",\n                                            })\n                                        }\n                                        sx={{\n                                            minHeight: \"100%\",\n                                            minWidth: \"100%\",\n                                        }}\n                                    >\n                                        <b>Cancel</b>\n                                    </Button>\n                                </Grid>\n                                <Grid item xs={6}>\n                                    <LoadingButton\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        onClick={() => handleAnalyze()}\n                                        loading={state.loading}\n                                        sx={{\n                                            minHeight: \"100%\",\n                                            minWidth: \"100%\",\n                                        }}\n                                    >\n                                        <b>Analyze</b>\n                                    </LoadingButton>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                </>\n            </Collapse>\n        </>\n    );\n};\n","// react\nimport React, { useState } from \"react\";\n\n// material-ui\nimport {\n    Typography,\n    Grid,\n    Divider,\n    ToggleButtonGroup,\n    ToggleButton,\n    Box,\n} from \"@material-ui/core\";\n\nimport { useTheme } from \"@mui/material/styles\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\n\n// local\nimport TabPanel from \"components/Elements/TabPanel\";\nimport logo from \"assets/thoth-logo.png\";\n\nimport { PackageSearch, AdviseCreation } from \"../components\";\n\nexport const Home = () => {\n    // utility states\n    const [mode, setMode] = useState(\"multiple\");\n\n    const theme = useTheme();\n    const matches = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n    // change mode view\n    const handleMode = (event, newMode) => {\n        if (newMode) {\n            setMode(newMode);\n        }\n    };\n\n    return (\n        <div\n            style={{\n                maxWidth: \"1000px\",\n                marginLeft: \"auto\",\n                marginRight: \"auto\",\n            }}\n        >\n            <Grid container justifyContent=\"center\">\n                <Grid item>\n                    <Box sx={{ marginTop: 10 }}>\n                        <img\n                            alt=\"Thoth Logo\"\n                            src={logo}\n                            height={!matches ? \"auto\" : 300}\n                            width={\"100%\"}\n                        />\n                    </Box>\n                </Grid>\n                <Grid container item justifyContent=\"center\" mt={5} spacing={0}>\n                    <Grid container item sm={12} md={6} align=\"center\" mr={5}>\n                        <Grid item xs={12} align=\"left\" mb={3}>\n                            <Typography variant=\"h4\">\n                                <b>Thoth Search</b>\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12} align=\"left\">\n                            <Typography variant=\"subtitle1\">\n                                Thoth Search is a tool that runs analysis on a\n                                Python application. It utilizes package metadata\n                                and Thoth Adviser to analyse and recommend a\n                                software stack. You can run analysis on an\n                                entire Python application using a properly\n                                formatted Pipfile and Pipfile.lock.\n                                Alternatively, you can analyse a single Python\n                                package to see what Thoth knows about the\n                                package.\n                            </Typography>\n                        </Grid>\n                    </Grid>\n\n                    <Grid\n                        item\n                        container\n                        sm={12}\n                        md={5}\n                        direction=\"column\"\n                        justifyContent=\"center\"\n                        spacing={1}\n                    >\n                        {[\n                            [\"One\", \"100k\"],\n                            [\"Two\", \"20%\"],\n                            [\"Three\", \"62\"],\n                            [\"Four\", \"N/A\"],\n                        ].map((stat, i) => {\n                            return (\n                                <Grid\n                                    item\n                                    container\n                                    alignItems=\"center\"\n                                    key={i}\n                                >\n                                    <Grid item xs={6}>\n                                        <Typography variant=\"h6\">\n                                            <b>Thoth Statistic {stat[0]}</b>\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs={6}>\n                                        <Typography variant=\"h5\" align=\"right\">\n                                            {stat[1]}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            );\n                        })}\n                    </Grid>\n                    <Grid item xs={12} align=\"center\" mt={3} mb={4}>\n                        <ToggleButtonGroup\n                            value={mode}\n                            exclusive\n                            onChange={handleMode}\n                            size={!matches ? \"small\" : \"large\"}\n                        >\n                            <ToggleButton value=\"single\">\n                                <b>single package analysis</b>\n                            </ToggleButton>\n                            <ToggleButton value=\"multiple\">\n                                <b>Python application analysis</b>\n                            </ToggleButton>\n                        </ToggleButtonGroup>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <Divider sx={{ marginBottom: 3 }} />\n                        <TabPanel value={mode} index=\"single\">\n                            <PackageSearch />\n                        </TabPanel>\n                        <TabPanel value={mode} index={\"multiple\"}>\n                            <AdviseCreation />\n                        </TabPanel>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </div>\n    );\n};\n","import React from \"react\";\n\nexport const NotFound = () => {\n    return <div>404</div>;\n};\n","import React from \"react\";\n\nimport { Box } from \"@material-ui/core\";\n\nexport const Footer = () => {\n    return (\n        <Box\n            pb={3}\n            pt={6}\n            sx={{\n                backgroundColor: \"#444f60\",\n                textAlign: \"center\",\n                color: \"white\",\n            }}\n        >\n            This is a footer\n        </Box>\n    );\n};\n","import * as React from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Footer } from \"../Footer\";\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        paddingRight: theme.spacing(3),\n        paddingLeft: theme.spacing(3),\n        marginTop: theme.spacing(4),\n        marginBottom: theme.spacing(15),\n        minHeight: \"100vh\",\n    },\n}));\n\n/**\n * Main layout adds margins and spacing to the whole app.\n */\nexport const MainLayout = ({ children }) => {\n    const classes = useStyles();\n\n    return (\n        <>\n            <div className={classes.root}>{children}</div>\n            <Footer />\n        </>\n    );\n};\n\nMainLayout.propTypes = {\n    children: PropTypes.node,\n};\n","import * as React from \"react\";\nimport { Tab, Tabs } from \"@material-ui/core\";\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A layout used for the advise feature tabs. It formats the tabs as router links.\n */\nexport const AdviseLayout = ({ children, header }) => {\n    const location = useLocation();\n\n    return (\n        <>\n            <div>\n                {header}\n                <Tabs\n                    value={location.pathname.split(\"/\").at(-1)}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                >\n                    <Tab\n                        label=\"Summary\"\n                        value={\"summary\"}\n                        component={RouterLink}\n                        to=\"summary\"\n                    />\n                    <Tab\n                        label=\"Advise Results\"\n                        value={\"details\"}\n                        component={RouterLink}\n                        to=\"details\"\n                    />\n                </Tabs>\n            </div>\n            <div>{children}</div>\n        </>\n    );\n};\n\nAdviseLayout.propTypes = {\n    children: PropTypes.node,\n    header: PropTypes.element,\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Card, CardContent, CardHeader, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n    root: {\n        minWidth: 275,\n        height: \"100%\",\n    },\n    bullet: {\n        display: \"inline-block\",\n        margin: \"0 2px\",\n        transform: \"scale(0.8)\",\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n});\n\n/** Card template for metric cards. */\nconst InfoCard = ({ cardMeta, cardBody, cardAction }) => {\n    const classes = useStyles();\n\n    return (\n        <Card className={classes.root}>\n            <CardHeader\n                action={cardAction}\n                title={<Typography variant=\"h5\">{cardMeta.title}</Typography>}\n                subheader={cardMeta.subTitle}\n            />\n            <CardContent>{cardBody}</CardContent>\n        </Card>\n    );\n};\n\nInfoCard.propTypes = {\n    /** card header info */\n    cardMeta: PropTypes.shape({\n        /** card title */\n        title: PropTypes.string.isRequired,\n        /** optional subtitle */\n        subTitle: PropTypes.string,\n    }),\n    /** optional card action component (usually some button) */\n    cardAction: PropTypes.node,\n    /** Card body content */\n    cardBody: PropTypes.node,\n};\n\nexport default InfoCard;\n","import React from \"react\";\n\n// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n}));\n\n/**\n * Text with an icon to the right of it.\n */\nconst IconText = ({ text, icon, link, ...props }) => {\n    const classes = useStyles();\n    return (\n        <div className={`${classes.root} ${props.className}`}>\n            {icon}\n            <Typography href={link ? link : null} variant=\"body2\" marginLeft>\n                {text}\n            </Typography>\n        </div>\n    );\n};\n\nexport default IconText;\n\nIconText.propTypes = {\n    /** The text shown */\n    text: PropTypes.string.isRequired,\n    /** The icon component to be displayed */\n    icon: PropTypes.node.isRequired,\n    /** Optional link if text is selected */\n    link: PropTypes.string,\n    /** additional styling */\n    className: PropTypes.string,\n};\n","export function formatLockfile(lockfile) {\n    return Object.entries(lockfile.default).map(([key, value]) => {\n        return {\n            name: key,\n            version: value.version.replace(\"==\", \"\"),\n        };\n    });\n}\n","export default function timeSince(date) {\n    var seconds = Math.floor((new Date() - date) / 1000);\n\n    var interval = seconds / 31536000;\n\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" year\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 2592000;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" month\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 86400;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" day\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 3600;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" hour\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 60;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" minute\" + (num !== 1 ? \"s\" : \"\");\n    }\n    const num = Math.floor(seconds);\n    return num + \" second\" + (num !== 1 ? \"s\" : \"\");\n}\n","import timeSince from \"utils/timeSince\";\n\n/**\n * Given either a date and time, calculated time since that date.\n * This is used to calculate how long ago an Advisor document was generated or has been generating.\n * It is specific to the document formatting\n *\n * @param {string} finished_at - for when the advise document is completed\n * @param {string} started_at - the time at which the document was started (is preceded by finished at)\n * @param {string} datetime - fallback to datetime\n * @returns {string} - English version of date\n */\nexport const calcTime = (finished_at, started_at, datetime) => {\n    // if status says finished\n    if (finished_at) {\n        return \"Advise finished \" + timeSince(new Date(finished_at)) + \" ago.\";\n    }\n    // if status is pending\n    else if (started_at) {\n        return \"Advise started \" + timeSince(new Date(started_at)) + \" ago.\";\n    }\n    // if status is nulled so use metadata end date\n    else if (datetime) {\n        return (\n            \"Advise finished \" + timeSince(new Date(datetime + \"Z\")) + \" ago.\"\n        );\n    } else {\n        return \"Time started/finished not available\";\n    }\n};\n","const whyRemoved = (start, packages) => {\n    const visited = new Map();\n    const visitList = [];\n\n    visitList.push(start);\n\n    const reasonNodes = [];\n\n    while (visitList.length !== 0) {\n        const node = visitList.pop();\n        if (node && !visited.has(node)) {\n            visited.set(node);\n\n            if (node.value.change === \"version\") {\n                reasonNodes.push(node);\n            } else {\n                node.parents.forEach(adj => {\n                    if (adj === \"*App\" && node.key !== start.key) {\n                        reasonNodes.push(node);\n                    }\n                    visitList.push(packages.get(adj));\n                });\n            }\n        }\n    }\n\n    return reasonNodes.map(node => {\n        const reason =\n            node.value.change === \"version\"\n                ? \" had its version changed to \" +\n                  node.value.version +\n                  \" from \" +\n                  node.value.oldVersion +\n                  \". Version \" +\n                  node.value.oldVersion +\n                  \" of \" +\n                  node.key +\n                  \" included package \" +\n                  start.value.label +\n                  \" as a dependency, where version \" +\n                  node.value.version +\n                  \" does not. \"\n                : \" did not have any dependents and was removed by the Thoth resolver.\";\n        return {\n            package: node.key,\n            reason: reason,\n        };\n    });\n};\n\nexport const discoverPackageChanges = (nodes, justifications) => {\n    if (!nodes || !justifications) {\n        return;\n    }\n\n    const justifiedPackages = new Map();\n    justifications.forEach(justification => {\n        if (justification.package_name) {\n            if (justifiedPackages.has(justification.package_name)) {\n                justifiedPackages.set(justification.package_name, [\n                    ...justifiedPackages.get(justification.package_name),\n                    justification,\n                ]);\n            } else {\n                justifiedPackages.set(justification.package_name, [\n                    justification,\n                ]);\n            }\n        }\n    });\n\n    nodes.forEach(node => {\n        let justification = {\n            package: node.key,\n        };\n\n        if (node.value.change === \"removed\") {\n            // set header\n            justification.header = `${node.value.label} was ${\n                node.value.depth === 0 ? \"directly\" : \"indirectly\"\n            } removed by Thoth resolver.`;\n\n            // set reasons for removal\n            justification.reasons = whyRemoved(node, nodes);\n\n            // if no reasons for removal\n            if (justification.reasons.length === 0) {\n                justification.header = `${node.value.label} was removed for an unknown reason. The package does not have dependents in the Pipfile.lock.`;\n            }\n        }\n        // if added\n        else if (node.value.change === \"added\") {\n            justification.header = `${node.value.label} was added to the Pipfile.lock by Thoth resolver.`;\n        }\n\n        // if added\n        else if (node.value.change === \"version\") {\n            justification.header = `${node.key} had its version changed from ${node.value.oldVersion} to ${node.value.version}.`;\n        }\n\n        // if unchanged\n        else {\n            justification.header =\n                \"Thoth resolver did not remove or change package \" +\n                node.value.label +\n                \".\";\n        }\n\n        // check if there is a justification for change\n        if (justifiedPackages.has(node.key)) {\n            const reasons = justifiedPackages.get(node.key);\n            justification = {\n                ...justification,\n                thoth: reasons,\n            };\n        }\n\n        node.value.justifications = justification;\n    }, []);\n};\n","import React from \"react\";\nimport { Button, Alert } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A custom alert card.\n */\nconst CustomAlert = ({ info, ...props }) => {\n    return (\n        <Alert\n            className={props?.className}\n            action={\n                <Button color=\"inherit\" size=\"small\" href={info?.link}>\n                    DETAILS\n                </Button>\n            }\n            severity={info.type.toLowerCase()}\n        >\n            {info?.message}\n        </Alert>\n    );\n};\n\nCustomAlert.propTypes = {\n    /** The alert content. */\n    info: PropTypes.shape({\n        /** Link to navigate to if alert is actioned on. */\n        link: PropTypes.string.isRequired,\n        /** Text displayed in the alert. */\n        message: PropTypes.string.isRequired,\n        /** Severity (color) of alert: `[\"ERROR\", \"WARNING\", \"INFO\", \"SUCCESS\"]`. */\n        type: PropTypes.oneOf([\"ERROR\", \"WARNING\", \"INFO\", \"SUCCESS\"])\n            .isRequired,\n    }).isRequired,\n    /** The `material-ui` styling classname */\n    className: PropTypes.string,\n};\n\nexport default CustomAlert;\n","// React\nimport React, { useMemo } from \"react\";\n\n// material-ui\nimport { Typography, Chip, Button, Collapse } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\nimport FeedRoundedIcon from \"@mui/icons-material/FeedRounded\";\n// local\nimport IconText from \"components/Elements/IconText\";\n\n// utils\nimport { calcTime } from \"../../utils\";\n\n// local\nimport CustomAlert from \"./CustomAlert\";\nimport PropTypes from \"prop-types\";\n\n// component styling\n\nconst useStyles = makeStyles(theme => ({\n    titleRow: {\n        display: \"flex\",\n        alignItems: \"center\",\n        marginBottom: theme.spacing(1),\n    },\n    marginLeft: {\n        marginLeft: theme.spacing(2),\n    },\n    marginRight: {\n        marginRight: theme.spacing(2),\n    },\n    linksRow: {\n        display: \"flex\",\n        marginBottom: theme.spacing(3),\n        alignItems: \"center\",\n    },\n    alert: {\n        width: \"100%\",\n        marginTop: theme.spacing(1),\n    },\n}));\n\n/**\n * Displays basic Advise document information and\n * displays any errors, info, or warnings that came up\n * in the document generation.\n */\nexport const AdviseHeader = ({ adviseDocument, logs }) => {\n    const classes = useStyles();\n    const [expandAlerts, setExpandAlerts] = React.useState(false);\n    const [showLogs, setShowLogs] = React.useState(false);\n    const [selectedLine, setSelectedLine] = React.useState();\n\n    // get status of the report\n    const [statusText, statusColor] = useMemo(() => {\n        // if report is done\n        if (adviseDocument?.result?.report) {\n            if (adviseDocument.result.report.ERROR) {\n                return [\"ERROR\", \"error\"];\n            } else {\n                return [\"COMPLETE\", \"success\"];\n            }\n        } else if (adviseDocument?.result?.error) {\n            return [\"ERROR\", \"error\"];\n        }\n        // if report is not done\n        else if (adviseDocument?.status?.state) {\n            return [adviseDocument.status.state.toUpperCase(), \"info\"];\n        } else {\n            return [\"UNKNOWN\", undefined];\n        }\n    }, [adviseDocument]);\n\n    // get alerts from report\n    const alerts = useMemo(() => {\n        if (adviseDocument?.result?.report) {\n            return adviseDocument?.result?.report?.stack_info\n                ? adviseDocument?.result?.report.stack_info.filter(alert => {\n                      return alert.type === \"ERROR\";\n                  })\n                : null;\n        }\n    }, [adviseDocument]);\n\n    return (\n        <div>\n            <Typography variant=\"h4\">\n                <b>\n                    {adviseDocument?.metadata?.document_id ??\n                        adviseDocument?.parameters?.analysis_id}\n                </b>\n            </Typography>\n            <div className={classes.linksRow}>\n                <Chip label={statusText} color={statusColor} />\n                <IconText\n                    className={classes.marginLeft}\n                    text={calcTime(\n                        adviseDocument?.status?.finished_at,\n                        adviseDocument?.status?.started_at,\n                        adviseDocument?.metadata?.datetime,\n                    )}\n                    icon={<AccessTimeIcon />}\n                />\n                <Button\n                    sx={{ marginLeft: 2 }}\n                    onClick={() => setShowLogs(!showLogs)}\n                >\n                    <IconText text=\"Logs\" icon={<FeedRoundedIcon />} />\n                </Button>\n            </div>\n            <Typography variant={\"subtitle2\"}>\n                {adviseDocument?.result?.report?.ERROR ??\n                    adviseDocument?.error ??\n                    adviseDocument?.result?.error_msg}\n            </Typography>\n            {alerts?.length > 0 ? (\n                <div>\n                    <CustomAlert info={alerts[0]} />\n                    <Collapse in={expandAlerts} timeout=\"auto\" unmountOnExit>\n                        {alerts?.slice(1).map((info, i) => {\n                            return (\n                                <CustomAlert\n                                    key={i}\n                                    info={info}\n                                    className={classes.alert}\n                                />\n                            );\n                        })}\n                    </Collapse>\n\n                    <Button\n                        color=\"inherit\"\n                        size=\"small\"\n                        onClick={() => setExpandAlerts(!expandAlerts)}\n                    >\n                        {alerts?.length > 1\n                            ? expandAlerts\n                                ? \"LESS\"\n                                : \"MORE\"\n                            : null}\n                    </Button>\n                </div>\n            ) : null}\n\n            <Collapse in={showLogs}>\n                {logs?.split(\"\\n\").map((line, i) => {\n                    return (\n                        <Typography\n                            key={i}\n                            noWrap={selectedLine !== i}\n                            onClick={() =>\n                                setSelectedLine(\n                                    selectedLine === i ? undefined : i,\n                                )\n                            }\n                            variant=\"body2\"\n                            sx={{\n                                backgroundColor:\n                                    selectedLine === i\n                                        ? \"lightyellow\"\n                                        : i % 2 === 0\n                                        ? \"lightgray\"\n                                        : \"unset\",\n                            }}\n                        >\n                            {line}\n                        </Typography>\n                    );\n                }) ?? \"Advisor log is not available.\"}\n            </Collapse>\n\n            {statusText === \"COMPLETE\" ? (\n                <Typography variant=\"body1\" sx={{ color: \"text.secondary\" }}>\n                    Thoth has added and removed packages from the original\n                    Pipfile.lock, resulting in a <i>new</i> Pipfile.lock. Switch\n                    between the new and old Python environments to see the\n                    differences.\n                </Typography>\n            ) : null}\n        </div>\n    );\n};\n\nAdviseHeader.propTypes = {\n    /** the Advise document id*/\n    adviseDocument: PropTypes.object.isRequired,\n    logs: PropTypes.string,\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { withStyles, makeStyles } from \"@material-ui/styles\";\nimport { LinearProgress, Typography, Grid } from \"@material-ui/core\";\n\nconst CustomLinearProgress = withStyles(theme => ({\n    root: {\n        height: 10,\n        borderRadius: 5,\n    },\n    colorPrimary: {\n        backgroundColor:\n            theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700],\n    },\n    bar: {\n        borderRadius: 5,\n        backgroundColor: \"#1a90ff\",\n    },\n}))(LinearProgress);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(6,1fr)\",\n        alignItems: \"center\",\n        gridGap: theme.spacing(1),\n    },\n    label: {\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n    },\n    value: {\n        textAlign: \"end\",\n    },\n}));\n\n/**\n * A horizontal bar for showing a percent of a total.\n */\nconst ProgressBar = ({ value, total, label, action }) => {\n    const classes = useStyles();\n    return (\n        <Grid container spacing={1} alignItems=\"center\">\n            <Grid item xs={5}>\n                <Typography variant=\"body2\" className={classes.label}>\n                    {label}\n                </Typography>\n            </Grid>\n            <Grid item xs={1.75}>\n                <Typography className={classes.value} variant=\"body2\">\n                    {value}\n                </Typography>\n            </Grid>\n            <Grid item xs>\n                <CustomLinearProgress\n                    variant=\"determinate\"\n                    value={total > 0 ? (value / total) * 100 : 0}\n                />\n            </Grid>\n            <Grid item xs={1}>\n                <div>{action ?? null}</div>\n            </Grid>\n        </Grid>\n    );\n};\n\nProgressBar.propTypes = {\n    /** the amount (numerator) for the bar */\n    value: PropTypes.number.isRequired,\n    /** the total (denominator) for the bar */\n    total: PropTypes.number.isRequired,\n    /** optional label */\n    label: PropTypes.string,\n    /** action used on card */\n    action: PropTypes.node,\n};\n\nexport default ProgressBar;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { Typography, Divider, Skeleton, Box } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\n/**\n * A metric card that aggregates changes between the initial dependency\n * graph and the Thoth made dependency graph.\n */\nexport const AdviseMetric = ({ metric }) => {\n    const total =\n        metric?.added + metric?.removed + metric?.version + metric?.unchanged;\n    const justTotal = Object.values(metric?.justification ?? {}).reduce(\n        (a, b) => a + b,\n        0,\n    );\n\n    if (!metric) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                {metric?.build}\n            </Typography>\n            <Typography variant=\"h6\" gutterBottom mt={2}>\n                What Thoth Changed\n            </Typography>\n            <Divider mb={1} />\n            <ProgressBar\n                value={metric?.added ?? 0}\n                total={total}\n                label={\"Added Packages\"}\n                mb={1}\n            />\n            <ProgressBar\n                value={metric?.removed ?? 0}\n                total={total}\n                label={\"Removed Packages\"}\n                mb={1}\n            />\n            <ProgressBar\n                value={metric?.version ?? 0}\n                total={total}\n                label={\"Version Changes\"}\n            />\n            <Typography variant=\"h6\" mt={3} gutterBottom>\n                Justification Counts\n            </Typography>\n            <Divider mb={1} />\n            {Object.entries(metric?.justification ?? {}).map(([key, value]) => {\n                return (\n                    <ProgressBar\n                        key={key}\n                        value={value}\n                        total={justTotal}\n                        label={key}\n                        mb={1}\n                    />\n                );\n            })}\n        </>\n    );\n};\n\nAdviseMetric.propTypes = {\n    /** The metric object info of aggregated data */\n    metric: PropTypes.shape({\n        /** The number of new dependencies */\n        added: PropTypes.number,\n        /** The number of removed dependencies */\n        removed: PropTypes.number,\n        /** The number of dependencies whose version was changed*/\n        version: PropTypes.number,\n        /** The number of dependencies that did not change*/\n        unchanged: PropTypes.number,\n        /** The number Thoth justification (warnings) that were produced */\n        justification: PropTypes.object,\n        /** which build is being displayed (new or old) */\n        build: PropTypes.string,\n    }),\n};\n","import React from \"react\";\n\nimport { ToggleButtonGroup, ToggleButton } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A button group for toggling between old and new dependency graphs.\n * It takes two parameters, a callback function and a state variable.\n */\nexport const CustomCardAction = ({ value, onChange }) => {\n    return (\n        <ToggleButtonGroup\n            value={value}\n            exclusive\n            size=\"small\"\n            onChange={onChange}\n        >\n            <ToggleButton value=\"oldGraph\">Old</ToggleButton>\n            <ToggleButton value=\"newGraph\">New</ToggleButton>\n        </ToggleButtonGroup>\n    );\n};\n\nCustomCardAction.propTypes = {\n    /** The state variable the buttons use to control the active value */\n    value: PropTypes.string.isRequired,\n    /** The callback function that runs when a button is changed */\n    onChange: PropTypes.func.isRequired,\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\n// material-ui\nimport { TransitionGroup } from \"react-transition-group\";\n\nimport {\n    Typography,\n    Divider,\n    List,\n    ListItem,\n    ListItemText,\n    Grid,\n    Collapse,\n    Box,\n    Skeleton,\n} from \"@material-ui/core\";\n\n/**\n * A metric card that displays direct, indirect, and root packages of a dependency graph.\n */\nexport const DependenciesMetric = ({ all, roots }) => {\n    const totalDependencies =\n        (all?.direct ?? 0) + (all?.indirect ?? 0) + (all?.roots ?? 0);\n\n    if (!all || !roots) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <>\n            <Typography variant=\"h6\" gutterBottom>\n                All Packages\n            </Typography>\n            <Divider mb={1} />\n            <ProgressBar\n                value={all?.roots ?? 0}\n                total={totalDependencies}\n                label={\"Root\"}\n                mb={1}\n            />\n            <ProgressBar\n                value={all?.direct ?? 0}\n                total={totalDependencies}\n                label={\"Direct\"}\n                mb={1}\n            />\n            <ProgressBar\n                value={all?.indirect ?? 0}\n                total={totalDependencies}\n                label={\"Indirect\"}\n            />\n            <Typography variant=\"h6\" gutterBottom mt={2}>\n                Root Packages\n            </Typography>\n            <Divider mb={1} />\n            <List component=\"nav\">\n                <TransitionGroup>\n                    {Object.entries(roots ?? {})?.map(([key]) => {\n                        const t =\n                            (roots[key].direct ?? 0) +\n                            (roots[key].indirect ?? 0);\n                        return (\n                            <Collapse key={key}>\n                                <div>\n                                    <ListItem>\n                                        <Grid container alignItems=\"center\">\n                                            <Grid item xs>\n                                                <ListItemText primary={key} />\n                                            </Grid>\n                                            <Grid item xs>\n                                                <Grid\n                                                    container\n                                                    direction=\"column\"\n                                                >\n                                                    <Grid item xs>\n                                                        <ProgressBar\n                                                            value={\n                                                                roots?.[key]\n                                                                    ?.direct ??\n                                                                0\n                                                            }\n                                                            total={t}\n                                                            label={\"Direct\"}\n                                                        />\n                                                    </Grid>\n                                                    <Grid item xs>\n                                                        <ProgressBar\n                                                            value={\n                                                                roots?.[key]\n                                                                    ?.indirect ??\n                                                                0\n                                                            }\n                                                            total={t}\n                                                            label={\"Indirect\"}\n                                                        />\n                                                    </Grid>\n                                                </Grid>\n                                            </Grid>\n                                        </Grid>\n                                    </ListItem>\n                                    <Divider variant={\"middle\"} mb={1} />\n                                </div>\n                            </Collapse>\n                        );\n                    })}\n                </TransitionGroup>\n            </List>\n        </>\n    );\n};\n\nDependenciesMetric.propTypes = {\n    /** summary object of all roots aggregated */\n    all: PropTypes.shape({\n        /** number of dependencies directly related to root packages */\n        direct: PropTypes.number,\n        /** number of dependencies directly or indirectly related to the direct packages*/\n        indirect: PropTypes.number,\n        /** number of dependencies that have no dependents*/\n        roots: PropTypes.number,\n    }),\n    /** an object of key (package name) value pairs of specific roots with direct and indirect parameters for each value */\n    roots: PropTypes.objectOf(\n        PropTypes.shape({\n            /** roots own direct packages */\n            direct: PropTypes.number,\n            /** roots own indirect packages */\n            indirect: PropTypes.number,\n        }),\n    ),\n};\n","import React from \"react\";\n\n// material-ui\nimport { Divider, Collapse, Chip, Grid, Box } from \"@material-ui/core\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport CheckRoundedIcon from \"@material-ui/icons/CheckRounded\";\nimport HelpOutlineRoundedIcon from \"@material-ui/icons/HelpOutlineRounded\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A custom list item displaying the number of packages under a particular license.\n */\nconst LicenseGroup = ({ name, metadata, packages, totalLicenses }) => {\n    const [open, setOpen] = React.useState(false);\n\n    return (\n        <Grid container>\n            <Grid item xs={1}>\n                {metadata?.isOsiApproved === null ? (\n                    <HelpOutlineRoundedIcon />\n                ) : metadata?.isOsiApproved ? (\n                    <CheckRoundedIcon />\n                ) : null}\n            </Grid>\n            <Grid item xs>\n                <Box onClick={() => setOpen(!open)}>\n                    <ProgressBar\n                        key={name}\n                        value={Object.keys(packages).length ?? 0}\n                        total={totalLicenses}\n                        label={name}\n                        action={open ? <ExpandLess /> : <ExpandMore />}\n                    />\n                </Box>\n                <Collapse in={open} timeout=\"auto\" unmountOnExit>\n                    <Box my={1}>\n                        {Object.entries(packages)\n                            .sort((a, b) => {\n                                return a[1] - b[1];\n                            })\n                            .map(([k, v]) => {\n                                return (\n                                    <Chip\n                                        key={k}\n                                        sx={{ margin: 0.5 }}\n                                        color={\n                                            v.depth === 0\n                                                ? \"primary\"\n                                                : v.depth === 1\n                                                ? \"secondary\"\n                                                : \"default\"\n                                        }\n                                        label={k}\n                                    />\n                                );\n                            })}\n                    </Box>\n                    <Divider />\n                </Collapse>\n            </Grid>\n        </Grid>\n    );\n};\n\nLicenseGroup.propTypes = {\n    /** The license name */\n    name: PropTypes.string.isRequired,\n    /** License specific infomration */\n    metadata: PropTypes.shape({\n        /** If license is approved by OSI standards */\n        isOsiApproved: PropTypes.bool,\n    }),\n    /** The packages that use this license as an object */\n    packages: PropTypes.objectOf(\n        PropTypes.shape({\n            depth: PropTypes.number.isRequired,\n        }),\n    ).isRequired,\n    /** The total number of packages that have licenses. (used to add a total to the metric bar) */\n    totalLicenses: PropTypes.number.isRequired,\n};\n\nexport default LicenseGroup;\n","// react\nimport React, { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport {\n    Typography,\n    Divider,\n    Collapse,\n    Button,\n    Box,\n    Grid,\n    Skeleton,\n} from \"@material-ui/core\";\nimport { TransitionGroup } from \"react-transition-group\";\n\n// local\nimport LicenseGroup from \"./LicenseGroup\";\n\n/**\n * A metric card that visualizes license data for all packages in the graph.\n */\nexport const LicenseMetric = ({ metric }) => {\n    const [more, setMore] = React.useState(false);\n\n    const licenses = useMemo(\n        () =>\n            Object.entries(metric ?? {}).sort((a, b) => {\n                return Object.keys(b[1]).length - Object.keys(a[1]).length;\n            }),\n        [metric],\n    );\n\n    const totalLicenses = useMemo(\n        () =>\n            Object.entries(metric ?? {}).reduce((sum, [, val]) => {\n                return sum + Object.keys(val.packages).length;\n            }, 0),\n        [metric],\n    );\n\n    if (!metric) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <div>\n            <Grid container>\n                <Grid item xs={1}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        OSI\n                    </Typography>\n                </Grid>\n                <Grid item xs>\n                    <Typography variant=\"h6\" gutterBottom>\n                        Dependency Licenses\n                    </Typography>\n                </Grid>\n            </Grid>\n\n            <Divider />\n            <TransitionGroup>\n                {licenses?.slice(0, 10).map(([key, value]) => {\n                    return (\n                        <Collapse key={key}>\n                            <LicenseGroup\n                                name={key}\n                                metadata={value.metadata}\n                                packages={value.packages}\n                                totalLicenses={totalLicenses}\n                            />\n                        </Collapse>\n                    );\n                })}\n            </TransitionGroup>\n\n            <Collapse in={more} timeout=\"auto\" unmountOnExit>\n                <TransitionGroup>\n                    {licenses.slice(10).map(([key, value]) => {\n                        return (\n                            <Collapse key={key}>\n                                <LicenseGroup\n                                    name={key}\n                                    metadata={value.metadata}\n                                    packages={value.packages}\n                                    totalLicenses={totalLicenses}\n                                />\n                            </Collapse>\n                        );\n                    })}\n                </TransitionGroup>\n            </Collapse>\n            <Box textAlign=\"center\">\n                <Button onClick={() => setMore(!more)} color=\"primary\">\n                    {more ? \"Less\" : \"More\"}\n                </Button>\n            </Box>\n        </div>\n    );\n};\n\nLicenseMetric.propTypes = {\n    /** Key value pairs of license names (keys) and license information (values).*/\n    metric: PropTypes.objectOf(\n        PropTypes.shape({\n            metadata: PropTypes.object,\n            packages: PropTypes.object.isRequired,\n        }),\n    ),\n};\n","function descendingComparator(a, b, orderBy) {\n    if (b[orderBy] < a[orderBy]) {\n        return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n        return 1;\n    }\n    return 0;\n}\n\nexport function getComparator(order, orderBy) {\n    return order === \"desc\"\n        ? (a, b) => descendingComparator(a, b, orderBy)\n        : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport function stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map(el => el[0]);\n}\n","import React from \"react\";\n\nimport {\n    TableHead,\n    TableRow,\n    TableSortLabel,\n    Box,\n    TableCell,\n} from \"@material-ui/core\";\n\nimport { visuallyHidden } from \"@material-ui/utils\";\n\nimport PropTypes from \"prop-types\";\n\nconst headCells = [\n    {\n        id: \"name\",\n        numeric: false,\n        label: \"Package\",\n    },\n    {\n        id: \"depth\",\n        numeric: true,\n        label: \"Depth\",\n    },\n    {\n        id: \"license\",\n        numeric: false,\n        label: \"License\",\n    },\n    {\n        id: \"dependencies\",\n        numeric: true,\n        label: \"Direct Dependencies\",\n    },\n];\n\n/**\n * A specific custom table header for packages.\n * It handles sorting individual columns.\n */\nfunction EnhancedTableHead({ order, orderBy, onRequestSort }) {\n    const createSortHandler = property => event => {\n        onRequestSort(event, property);\n    };\n\n    return (\n        <TableHead>\n            <TableRow>\n                {headCells.map(headCell => (\n                    <TableCell\n                        key={headCell.id}\n                        align={headCell.numeric ? \"right\" : \"left\"}\n                        padding=\"normal\"\n                        sortDirection={orderBy === headCell.id ? order : false}\n                    >\n                        <TableSortLabel\n                            active={orderBy === headCell.id}\n                            direction={orderBy === headCell.id ? order : \"asc\"}\n                            onClick={createSortHandler(headCell.id)}\n                        >\n                            {headCell.label}\n                            {orderBy === headCell.id ? (\n                                <Box component=\"span\" sx={visuallyHidden}>\n                                    {order === \"desc\"\n                                        ? \"sorted descending\"\n                                        : \"sorted ascending\"}\n                                </Box>\n                            ) : null}\n                        </TableSortLabel>\n                    </TableCell>\n                ))}\n            </TableRow>\n        </TableHead>\n    );\n}\n\nEnhancedTableHead.propTypes = {\n    /** the function used to sort an individual column */\n    onRequestSort: PropTypes.func.isRequired,\n    /** the order in which the column is sorted on*/\n    order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n    /** The column in which to order the table by */\n    orderBy: PropTypes.string.isRequired,\n};\n\nexport default EnhancedTableHead;\n","/**\n * Graph node/vertex that hold adjacencies nodes\n * For performance, uses a HashSet instead of array for adjacents.\n */\nexport class Node {\n    constructor(key, value) {\n        this.adjacents = new Set(); // adjacency list\n        this.key = key; // key\n        this.value = value;\n    }\n\n    /**\n     * Add node to adjacency list\n     * Runtime: O(1)\n     * @param {Node} node\n     */\n    addAdjacent(node) {\n        this.adjacents.add(node);\n    }\n\n    /**\n     * Check if a Node is adjacent to other\n     * Runtime: O(1)\n     * @param {Node} node\n     */\n    isAdjacent(node) {\n        return this.adjacents.has(node);\n    }\n\n    /**\n     * Get all adjacent nodes\n     */\n    getAdjacents() {\n        return Array.from(this.adjacents);\n    }\n}\n","// react\nimport React from \"react\";\n\nimport { Typography, Grid } from \"@material-ui/core\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\nimport PropTypes from \"prop-types\";\nimport { Node } from \"utils/Node\";\n\n/**\n * Graph hover model appears when you hover over a node on the graph.\n */\nconst Popup = ({ node }) => {\n    return (\n        <div>\n            <Grid container alignItems=\"center\">\n                <Grid item xs={6}>\n                    <Typography variant=\"h6\">\n                        <b>{node.value.id}</b>\n                    </Typography>\n                </Grid>\n                <Grid item xs={6}>\n                    <Typography ml={2} variant=\"body1\">\n                        v{node.value.version ?? \"NaN\"}\n                    </Typography>\n                </Grid>\n            </Grid>\n            <Typography gutterBottom variant=\"body2\">\n                {node.value?.metadata?.summary ?? \"NaN\"}\n            </Typography>\n            <Grid container spacing={2}>\n                <Grid item>\n                    <IconText\n                        text={node.value?.metadata?.license ?? \"NaN\"}\n                        icon={<GavelIcon />}\n                    />\n                </Grid>\n                <Grid item>\n                    <IconText\n                        ml={2}\n                        text={\n                            node.value?.latestVersion\n                                ? \"Latest version is installed\"\n                                : \"Installed version is NOT the latest.\"\n                        }\n                        icon={<BookmarkIcon />}\n                    />\n                </Grid>\n            </Grid>\n            <Typography variant=\"body2\" mt={2}>\n                {node.value?.justifications?.header}\n            </Typography>\n        </div>\n    );\n};\n\nPopup.propTypes = {\n    node: PropTypes.objectOf(Node),\n};\n\nexport default Popup;\n","import { Node } from \"utils/Node\";\n\n/**\n * Graph data structure implemented with an adjacent list\n */\nexport class Graph {\n    constructor() {\n        this.nodes = new Map();\n    }\n\n    /**\n     * Add a node to the graph.\n     */\n    addVertex(key, value) {\n        if (this.nodes.has(key)) {\n            return this.nodes.get(key);\n        }\n\n        const vertex = new Node(key, value);\n        this.nodes.set(key, vertex);\n        return vertex;\n    }\n\n    /**\n     * Create a connection between the source node and the destination node.\n     * If the nodes don't exist, then it will make them on the fly.\n     */\n    addEdge(source, destination) {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n\n        sourceNode.addAdjacent(destinationNode);\n\n        return [sourceNode, destinationNode];\n    }\n\n    /**\n     * True if two nodes are adjacent.\n     */\n    areAdjacents(source, destination) {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n\n        if (sourceNode && destinationNode) {\n            return sourceNode.isAdjacent(destinationNode);\n        }\n\n        return false;\n    }\n\n    /**\n     * Generic graph search where we can pass a bfs or dfs\n     */\n    *graphSearch(first, type = \"bfs\") {\n        const visited = new Map();\n        const visitList = [];\n\n        visitList.push(first);\n\n        while (visitList.length !== 0) {\n            const node = type === \"dfs\" ? visitList.pop() : visitList.shift();\n            if (node && !visited.has(node)) {\n                yield node;\n                visited.set(node);\n                node.getAdjacents().forEach(adj => visitList.push(adj));\n            }\n        }\n    }\n\n    /**\n     * Find a path between source and destination\n     * It might not be the optimal path\n     */\n    findPath(source, destination, path = new Map()) {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n        const newPath = new Map(path);\n\n        if (!destinationNode || !sourceNode) return [];\n\n        newPath.set(sourceNode);\n\n        if (source === destination) {\n            return Array.from(newPath.keys());\n        }\n\n        // eslint-disable-next-line no-restricted-syntax\n        for (const node of sourceNode.getAdjacents()) {\n            if (!newPath.has(node)) {\n                const nextPath = this.findPath(\n                    node.value,\n                    destination,\n                    newPath,\n                );\n                if (nextPath.length) {\n                    return nextPath;\n                }\n            }\n        }\n\n        return [];\n    }\n\n    findAllNodesOnAllPaths(source, destination, visited = new Map()) {\n        const visitList = [];\n\n        visitList.push(source);\n\n        while (visitList.length !== 0) {\n            const node = visitList.pop();\n            if (node.key === destination) {\n                continue;\n            }\n            if (node && !visited.has(node.key)) {\n                visited.set(node.key, node);\n                node.parents.forEach(parent =>\n                    visitList.push(this.nodes.get(parent)),\n                );\n            }\n        }\n\n        return visited;\n    }\n\n    /**\n     * Find all paths from source to destination\n     */\n    findAllPaths(source, destination, path = new Map()) {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n        const newPath = new Map(path);\n\n        if (!destinationNode || !sourceNode) return [];\n\n        newPath.set(sourceNode);\n\n        if (source === destination) {\n            return [Array.from(newPath.keys())];\n        }\n\n        const paths = [];\n        sourceNode.getAdjacents().forEach(node => {\n            if (!newPath.has(node)) {\n                const nextPaths = this.findAllPaths(\n                    node.value.id,\n                    destination,\n                    newPath,\n                );\n                nextPaths.forEach(nextPath => {\n                    paths.push(nextPath);\n                });\n            }\n        });\n        return paths;\n    }\n}\n","// react\nimport React, { useEffect, useRef, useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// utils and configs\nimport { options } from \"config\";\n\n// vis-network\nimport { Network, DataSet } from \"vis-network/standalone\";\n\n// material ui\nimport { makeStyles } from \"@material-ui/styles\";\n\n// local\nimport Popup from \"../Popup\";\nimport { SelectedPackageContext } from \"../../../routes/AdviseDetails\";\nimport PropTypes from \"prop-types\";\nimport { Graph } from \"utils/Graph\";\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        display: \"flex\",\n        flexFlow: \"column nowrap\",\n    },\n    canvas: {\n        flex: \"1 1 auto\",\n        height: \"50vh\",\n    },\n}));\n\n/**\n * Renders a network graph visualization using `vis-network`.\n */\nconst NetworkGraph = ({ mergedGraph, ...props }) => {\n    const classes = useStyles();\n    const visJsRef = useRef(null);\n    const { selected } = useContext(SelectedPackageContext);\n\n    // create the graph\n    useEffect(() => {\n        if (!selected || !mergedGraph) {\n            return;\n        }\n\n        const selectedNode = mergedGraph.nodes.get(selected);\n\n        let nodes = mergedGraph.findAllNodesOnAllPaths(selectedNode, \"*App\");\n\n        nodes.set(\"*App\", mergedGraph.nodes.get(\"*App\"));\n\n        // convert to vis graph format\n        const convertedNodes = new DataSet();\n        nodes.forEach(value => {\n            // popup element\n            const popup = document.createElement(\"div\");\n            ReactDOM.render(<Popup node={value} />, popup);\n\n            // default colors\n            let color = value.value.color ?? options.nodes.color;\n            let font = undefined;\n\n            // if node is root\n            if (value.key === \"*App\") {\n                color = \"#4fc1ea\";\n                font = { color: \"#4fc1ea\", strokeWidth: 3, size: 20 };\n            }\n            // if selected node\n            else if (value.key === selectedNode.key) {\n                color = \"#f39200\";\n            }\n\n            convertedNodes.add({\n                ...value.value,\n                color: color,\n                title:\n                    value.key === selectedNode.key || value.key === \"*App\"\n                        ? undefined\n                        : popup,\n                font: font,\n            });\n        });\n        const visData = {\n            nodes: convertedNodes,\n            edges: new DataSet(mergedGraph.visEdges),\n        };\n\n        const network =\n            visJsRef.current && new Network(visJsRef.current, visData, options);\n\n        // change curser when hovering and grabbing\n        // Get the canvas HTML element\n        var networkCanvas = document\n            .getElementById(\"mynetwork\")\n            .getElementsByTagName(\"canvas\")[0];\n\n        // changes the curser graphic depedning on where and what the mouse is doing\n        function changeCursor(newCursorStyle) {\n            networkCanvas.style.cursor = newCursorStyle;\n        }\n        network.on(\"hoverNode\", function () {\n            changeCursor(\"grab\");\n        });\n        network.on(\"blurNode\", function () {\n            changeCursor(\"default\");\n        });\n        network.on(\"dragStart\", function () {\n            changeCursor(\"grabbing\");\n        });\n        network.on(\"dragging\", function () {\n            changeCursor(\"grabbing\");\n        });\n        network.on(\"dragEnd\", function () {\n            changeCursor(\"grab\");\n        });\n\n        // fix (stick in place) node when done dragging\n        network.on(\"dragEnd\", function (params) {\n            if (\n                params.nodes.length !== 0 &&\n                !network.isCluster(params.nodes[0])\n            ) {\n                network.editNode(params.nodes[0]);\n            }\n        });\n\n        // hover over node\n        network.on(\"dragEnd\", function (params) {\n            if (\n                params.nodes.length !== 0 &&\n                !network.isCluster(params.nodes[0])\n            ) {\n                network.editNode(params.nodes[0]);\n            }\n        });\n    }, [selected, mergedGraph]);\n\n    return (\n        <div className={`${classes.root} ${props.className}`}>\n            <div ref={visJsRef} id=\"mynetwork\" className={classes.canvas} />\n        </div>\n    );\n};\n\nNetworkGraph.propTypes = {\n    mergedGraph: PropTypes.objectOf(Graph),\n    className: PropTypes.any,\n};\n\nexport default NetworkGraph;\n","// React\nimport React, { useContext, useMemo } from \"react\";\n\n// material-ui\nimport { Typography, Grid, Box, Paper, Link, Button } from \"@material-ui/core\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\nimport NetworkGraphView from \"../NetworkGraphView\";\n\n// redux\nimport { SelectedPackageContext } from \"../../../routes/AdviseDetails\";\nimport PropTypes from \"prop-types\";\nimport { Graph } from \"utils/Graph\";\n\n/**\n * Renders the selected package context variable's data. It will preform\n * a search of the list of packages using the selected package variable.\n */\nexport const SelectedPackage = ({ mergedGraph }) => {\n    const { selected, setSelected } = useContext(SelectedPackageContext);\n\n    const selectedPackage = mergedGraph.nodes.get(selected);\n\n    const dependents = { removed: [], added: [], version: [], unchanged: [] };\n    [...(selectedPackage?.parents ?? [])]\n        .filter(p => p !== \"*App\")\n        .forEach(node => {\n            dependents[mergedGraph.nodes.get(node).value.change].push(node);\n        });\n\n    const justifications = useMemo(() => {\n        const justs = {};\n        selectedPackage?.value?.justifications?.thoth?.forEach(just => {\n            justs[just.type] = [...(justs[just.type] ?? []), just];\n        });\n\n        return justs;\n    }, [selectedPackage]);\n\n    return (\n        <Box>\n            <Paper sx={{ padding: 2 }}>\n                <Grid container alignItems=\"center\" mb={1}>\n                    <Grid item>\n                        <Typography variant=\"h3\">\n                            <b>{selectedPackage?.value?.metadata?.name}</b>\n                        </Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography ml={2} variant=\"h6\">\n                            v\n                            {selectedPackage?.value?.metadata?.version ?? \"NaN\"}\n                        </Typography>\n                    </Grid>\n                </Grid>\n\n                <Typography gutterBottom variant=\"body1\">\n                    {selectedPackage?.value?.metadata?.summary ?? \"NaN\"}\n                </Typography>\n                <Grid container spacing={2}>\n                    <Grid item>\n                        <IconText\n                            text={\n                                selectedPackage?.value?.metadata?.license ??\n                                \"NaN\"\n                            }\n                            icon={<GavelIcon />}\n                        />\n                    </Grid>\n                </Grid>\n            </Paper>\n\n            <Paper sx={{ padding: 2, marginTop: 2 }}>\n                <Typography variant=\"h5\">Thoth Justifications</Typography>\n                <Typography variant=\"body1\" mt={2}>\n                    {selectedPackage?.value?.justifications?.header}\n                </Typography>\n                {selectedPackage?.value?.justifications?.reasons?.length ? (\n                    <ul>\n                        {selectedPackage?.value?.justifications?.reasons.map(\n                            (reason, i) => {\n                                return (\n                                    <li key={i + reason.reason}>\n                                        <Typography variant=\"body1\" mt={2}>\n                                            <Link\n                                                underline=\"hover\"\n                                                onClick={() =>\n                                                    setSelected(reason.package)\n                                                }\n                                            >\n                                                {reason.package}\n                                            </Link>\n                                            {reason.reason}\n                                        </Typography>\n                                    </li>\n                                );\n                            },\n                        )}\n                    </ul>\n                ) : null}\n\n                {Object.entries(justifications).map(([type, reasons]) => {\n                    return (\n                        <React.Fragment key={type}>\n                            <Typography variant=\"h6\" mt={2}>\n                                {type} Justifications\n                            </Typography>\n                            {reasons.map((reason, i) => {\n                                return (\n                                    <Grid\n                                        container\n                                        alignItems=\"center\"\n                                        ml={3}\n                                        key={reason.message + i}\n                                    >\n                                        <Grid item xs={10}>\n                                            <Typography variant=\"body1\" mt={1}>\n                                                {reason.message}\n                                            </Typography>\n                                            <Typography\n                                                variant=\"body2\"\n                                                ml={3}\n                                                mt={0.5}\n                                            >\n                                                {reason.advisory}\n                                            </Typography>\n                                        </Grid>\n                                        <Grid item>\n                                            <Button href={reason.link}>\n                                                READ MORE\n                                            </Button>\n                                        </Grid>\n                                    </Grid>\n                                );\n                            })}\n                        </React.Fragment>\n                    );\n                })}\n            </Paper>\n\n            <Paper sx={{ padding: 2, marginTop: 2 }}>\n                <Typography variant=\"h5\" mb={2}>\n                    Package Origins\n                </Typography>\n                <Typography variant=\"body1\" mb={2}>\n                    {[...(selectedPackage?.parents ?? [])].filter(\n                        p => p !== \"*App\",\n                    )?.length === 0\n                        ? selectedPackage?.value?.label +\n                          \" is not a dependent of any package in this Python environment\"\n                        : \"There are \" +\n                          [...(selectedPackage?.parents ?? [])].filter(\n                              p => p !== \"*App\",\n                          )?.length +\n                          \" package(s) that have \" +\n                          selectedPackage?.value?.label +\n                          \" as a direct dependency. Of those package(s)\"}\n\n                    {Object.keys(dependents).map((change, i) => {\n                        if (dependents[change].length === 0) {\n                            return null;\n                        }\n\n                        return (\n                            <React.Fragment key={change + i}>\n                                {\", \" +\n                                    dependents[change].length +\n                                    (change === \"version\"\n                                        ? \" had a version change \"\n                                        : (dependents[change].length === 1\n                                              ? \" was \"\n                                              : \" were \") + change) +\n                                    \" (\"}\n                                {dependents[change].map((p, i, a) => {\n                                    let text = p;\n                                    if (i !== a.length - 1) {\n                                        text += \", \";\n                                    }\n                                    return (\n                                        <Link\n                                            key={i + text}\n                                            underline=\"hover\"\n                                            onClick={() => setSelected(p)}\n                                        >\n                                            {text}\n                                        </Link>\n                                    );\n                                })}\n                                {\")\"}\n                            </React.Fragment>\n                        );\n                    })}\n                    {\".\"}\n                </Typography>\n\n                <NetworkGraphView mergedGraph={mergedGraph} />\n            </Paper>\n        </Box>\n    );\n};\n\nSelectedPackage.propTypes = {\n    mergedGraph: PropTypes.objectOf(Graph),\n};\n","import React, { useState } from \"react\";\nimport { Grid, Paper, Typography } from \"@material-ui/core\";\nimport SearchBar from \"components/Elements/SearchBar\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport { AdviseTableView } from \"../components\";\nimport { SelectedPackage } from \"../features\";\nimport PropTypes from \"prop-types\";\nimport { Graph } from \"utils/Graph\";\n\nexport const SelectedPackageContext = React.createContext();\n\nexport const AdviseDetails = ({ mergedGraph }) => {\n    const [search, setSearch] = useState(\"\");\n    const [selected, setSelected] = useState();\n\n    const handleSearch = event => {\n        setSearch(event.target.value);\n    };\n\n    if (!mergedGraph) {\n        return null;\n    }\n\n    return (\n        <SelectedPackageContext.Provider value={{ selected, setSelected }}>\n            <Grid\n                container\n                spacing={2}\n                justifyContent=\"center\"\n                alignItems=\"flex-start\"\n                mt={2}\n            >\n                <Grid item s={12} md={6}>\n                    <Paper sx={{ padding: 2 }}>\n                        <SearchBar\n                            onChange={handleSearch}\n                            lefticon={<SearchRoundedIcon />}\n                        />\n                        <AdviseTableView\n                            search={search}\n                            filteredGraph={mergedGraph}\n                        />\n                    </Paper>\n                </Grid>\n                <Grid item s={12} md={6}>\n                    {!selected ? (\n                        <Typography variant=\"body1\" align=\"center\">\n                            No package selected\n                        </Typography>\n                    ) : (\n                        <SelectedPackage mergedGraph={mergedGraph} />\n                    )}\n                </Grid>\n            </Grid>\n        </SelectedPackageContext.Provider>\n    );\n};\n\nAdviseDetails.propTypes = {\n    mergedGraph: PropTypes.objectOf(Graph),\n};\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport {\n    Box,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TablePagination,\n    TableRow,\n    Typography,\n} from \"@material-ui/core\";\n\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\nimport RemoveRoundedIcon from \"@material-ui/icons/RemoveRounded\";\nimport CircleOutlinedIcon from \"@material-ui/icons/CircleOutlined\";\n\n// utils\nimport { getComparator, stableSort } from \"./utils\";\n\n// local\nimport EnhancedTableHead from \"./EnhancedTableHead\";\nimport PropTypes from \"prop-types\";\nimport { SelectedPackageContext } from \"../../routes/AdviseDetails\";\nimport { Graph } from \"utils/Graph\";\n\n/**\n * The table cells and total structure specific to\n * python packages.\n */\nexport function AdviseTableView({ search = \"\", filteredGraph }) {\n    const [order, setOrder] = useState(\"asc\");\n    const [orderBy, setOrderBy] = React.useState(\"name\");\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(25);\n    const [rows, setRows] = React.useState([]);\n    const { selected, setSelected } = useContext(SelectedPackageContext) ?? {\n        setSelected: () => console.log(\"missing callback\"),\n    };\n\n    // format data\n    useEffect(() => {\n        if (!filteredGraph) {\n            return;\n        }\n\n        setPage(0);\n\n        const newRows = [];\n        filteredGraph.nodes.forEach(node => {\n            if (node.value.depth === -1) {\n                return;\n            }\n            newRows.push({\n                name: node.value.label,\n                key: node.key,\n                warnings: [],\n                depth: node.value?.depth ?? -1,\n                license: node?.value?.metadata?.license,\n                dependencies: node.adjacents.size,\n                change: node.value?.change,\n                summary: node?.value?.metadata?.summary,\n            });\n        });\n        setRows(newRows);\n    }, [filteredGraph]);\n\n    const handleRequestSort = (event, property) => {\n        const isAsc = orderBy === property && order === \"asc\";\n        setOrder(isAsc ? \"desc\" : \"asc\");\n        setOrderBy(property);\n    };\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = event => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    // Avoid a layout jump when reaching the last page with empty rows.\n    const emptyRows =\n        page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\n\n    return (\n        <Box sx={{ width: \"100%\" }}>\n            <TableContainer>\n                <Table sx={{ minWidth: 750 }} size=\"medium\">\n                    <EnhancedTableHead\n                        order={order}\n                        orderBy={orderBy}\n                        onRequestSort={handleRequestSort}\n                    />\n                    <TableBody>\n                        {stableSort(rows, getComparator(order, orderBy))\n                            .filter(row => row.name.includes(search))\n                            .slice(\n                                page * rowsPerPage,\n                                page * rowsPerPage + rowsPerPage,\n                            )\n                            .map((row, index) => {\n                                const labelId = `enhanced-table-checkbox-${index}`;\n\n                                const iconColor =\n                                    row.change === \"removed\"\n                                        ? \"error\"\n                                        : row.change === \"added\"\n                                        ? \"success\"\n                                        : undefined;\n                                return (\n                                    <React.Fragment key={row.name}>\n                                        <TableRow\n                                            hover\n                                            onClick={() => setSelected(row.key)}\n                                            tabIndex={-1}\n                                            selected={selected === row.key}\n                                        >\n                                            <TableCell\n                                                component=\"th\"\n                                                id={labelId}\n                                                scope=\"row\"\n                                            >\n                                                <Box display=\"flex\">\n                                                    {row.change ===\n                                                    \"removed\" ? (\n                                                        <RemoveRoundedIcon\n                                                            color={iconColor}\n                                                        />\n                                                    ) : row.change ===\n                                                      \"added\" ? (\n                                                        <AddRoundedIcon\n                                                            color={iconColor}\n                                                        />\n                                                    ) : (\n                                                        <CircleOutlinedIcon />\n                                                    )}\n                                                    <Typography ml={2}>\n                                                        {row.name}\n                                                    </Typography>\n                                                </Box>\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                {row.depth}\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                {row.license}\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                {row.dependencies}\n                                            </TableCell>\n                                        </TableRow>\n\n                                        <TableRow>\n                                            <TableCell\n                                                style={{\n                                                    paddingBottom: 0,\n                                                    paddingTop: 0,\n                                                }}\n                                                colSpan={6}\n                                            />\n                                        </TableRow>\n                                    </React.Fragment>\n                                );\n                            })}\n                        {emptyRows > 0 && (\n                            <TableRow\n                                style={{\n                                    height: 53 * emptyRows,\n                                }}\n                            >\n                                <TableCell colSpan={6} />\n                            </TableRow>\n                        )}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n            <TablePagination\n                rowsPerPageOptions={[5, 10, 25]}\n                component=\"div\"\n                count={rows.length}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                onPageChange={handleChangePage}\n                onRowsPerPageChange={handleChangeRowsPerPage}\n            />\n        </Box>\n    );\n}\n\nAdviseTableView.propTypes = {\n    /** the text value used to filter the cells in the table */\n    search: PropTypes.string,\n    filteredGraph: PropTypes.objectOf(Graph),\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n    lockfile: {\n        overflow: \"scroll\",\n        paddingLeft: theme.spacing(1),\n    },\n}));\n\n/**\n * Renders out a Pipfile.lock file and attaches\n * `<a>` tags to package names, which is used to\n *  scroll to certain spot in the lock file\n */\nexport const LockfileView = ({ file }) => {\n    const classes = useStyles();\n\n    return (\n        <Typography variant=\"caption\">\n            <pre>\n                <div\n                    className={classes.lockfile}\n                    dangerouslySetInnerHTML={{\n                        __html: JSON.stringify(file, undefined, 4)?.replaceAll(\n                            new RegExp(\n                                '(\"' +\n                                    Object.keys(file?.default)?.join('\"|\"') +\n                                    '\")',\n                                \"g\",\n                            ),\n                            match => {\n                                return `<a id=\"${match.slice(\n                                    1,\n                                    -1,\n                                )}\">${match}</a>`;\n                            },\n                        ),\n                    }}\n                />\n            </pre>\n        </Typography>\n    );\n};\n\nLockfileView.propTypes = {\n    /** The Pipfile.lock json object */\n    file: PropTypes.shape({ default: PropTypes.object.isRequired }),\n};\n","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport InfoCard from \"components/Elements/InfoCard\";\nimport {\n    DependenciesMetric,\n    CustomCardAction,\n    LicenseMetric,\n    AdviseMetric,\n} from \"../components\";\nimport PropTypes from \"prop-types\";\n\nexport const AdviseSummary = ({ metrics }) => {\n    const [pipfile, setPipfile] = React.useState(\"newGraph\");\n\n    const handlePipfile = (event, newPipfile) => {\n        if (newPipfile?.length) {\n            setPipfile(newPipfile);\n        }\n    };\n\n    return (\n        <Grid container spacing={3} mb={3} mt={1}>\n            <Grid item xs={12} md={6}>\n                <InfoCard\n                    cardMeta={{\n                        title: \"Thoth Advise Summary\",\n                    }}\n                    cardBody={<AdviseMetric metric={metrics?.advise} />}\n                />\n            </Grid>\n            <Grid item xs={12} md={6}>\n                <InfoCard\n                    cardMeta={{\n                        title: \"Dependencies Summary\",\n                    }}\n                    cardBody={\n                        <DependenciesMetric\n                            all={metrics?.[pipfile]?.dependencies?.all}\n                            roots={metrics?.[pipfile]?.dependencies?.roots}\n                        />\n                    }\n                    cardAction={\n                        <CustomCardAction\n                            value={pipfile}\n                            onChange={handlePipfile}\n                        />\n                    }\n                />\n            </Grid>\n            <Grid item xs={12} md={6}>\n                <InfoCard\n                    cardMeta={{\n                        title: \"Licenses Summary\",\n                    }}\n                    cardBody={\n                        <LicenseMetric metric={metrics?.[pipfile]?.licenses} />\n                    }\n                    cardAction={\n                        <CustomCardAction\n                            value={pipfile}\n                            onChange={handlePipfile}\n                        />\n                    }\n                />\n            </Grid>\n        </Grid>\n    );\n};\n\nAdviseSummary.propTypes = {\n    metrics: PropTypes.object,\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQueries, useQuery } from \"react-query\";\n\nexport const getPackageDependencies = (\n    name,\n    version,\n    index = \"https://pypi.org/simple\",\n) => {\n    return axios.get(THOTH_URL + \"/python/package/dependencies\", {\n        params: {\n            name: name,\n            version: version,\n            index: index,\n        },\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const usePackageDependencies = (name, version, config) => {\n    return useQuery({\n        ...config,\n        queryKey: [\"packageDependencies\", name, version],\n        queryFn: () => getPackageDependencies(name, version),\n    });\n};\n\nexport const usePackagesDependencies = (packages, config) => {\n    return useQueries(\n        packages.map(p => {\n            return {\n                ...config,\n                queryKey: [\"packageDependencies\", p.name, p.version],\n                queryFn: () => getPackageDependencies(p.name, p.version),\n            };\n        }),\n    );\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQuery } from \"react-query\";\n\n/**\n * An async function that returns a promise for `{base_url}/advise/python`\n *\n * @param analysis_id - the advise document id (ex: `adviser-211112223258-38af1a4746733b53`)\n */\nexport const getAdviseDocument = async analysis_id => {\n    return axios.get(THOTH_URL + \"/advise/python/\" + analysis_id, {\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const useAdviseDocument = (analysis_id, config) => {\n    return useQuery({\n        ...config,\n        queryKey: [\"adviseDocument\", analysis_id],\n        queryFn: () => getAdviseDocument(analysis_id),\n    });\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQuery } from \"react-query\";\n\n/**\n * An async function that returns a promise for `{base_url}/advise/python/logs`\n *\n * @param analysis_id - the advise document id (ex: `adviser-211112223258-38af1a4746733b53`)\n */\nexport const getAdviseLogs = async analysis_id => {\n    return axios.get(THOTH_URL + \"/advise/python/\" + analysis_id + \"/log\", {\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const useAdviseLogs = (analysis_id, config) => {\n    return useQuery({\n        ...config,\n        queryKey: [\"adviseLogs\", analysis_id],\n        queryFn: () => getAdviseLogs(analysis_id),\n    });\n};\n","import { useMemo, useEffect, useState } from \"react\";\n\n// utils\nimport { Graph } from \"utils/Graph\";\n\n// api\nimport { usePackagesDependencies } from \"../api\";\nimport { usePackagesMetadata } from \"features/misc/api\";\n\nexport function useGraph(data, knownRoots) {\n    const allMetadata = usePackagesMetadata(data);\n    const allDependencies = usePackagesDependencies(data);\n\n    const allMetadataStatus = useMemo(() => {\n        const status = {\n            loading: false,\n            error: false,\n            success: false,\n        };\n        if (allMetadata.length > 0) {\n            allMetadata.forEach(query => {\n                switch (query.status) {\n                    case \"error\":\n                        status.error = true;\n                        break;\n                    case \"success\":\n                        status.success = true;\n                        break;\n                    default:\n                        status.loading = true;\n                }\n            });\n        } else {\n            return \"loading\";\n        }\n\n        if (status.error) {\n            return \"error\";\n        } else if (status.loading) {\n            return \"loading\";\n        } else {\n            return \"success\";\n        }\n    }, [allMetadata]);\n\n    const allDependenciesStatus = useMemo(() => {\n        let isLoading = false;\n\n        if (allDependencies.length > 0) {\n            allDependencies.forEach(query => {\n                if (query.status === \"loading\") {\n                    isLoading = true;\n                }\n            });\n        } else {\n            return \"loading\";\n        }\n\n        return isLoading ? \"loading\" : \"success\";\n    }, [allDependencies]);\n\n    const [graph, setGraph] = useState();\n\n    useEffect(() => {\n        if (allMetadataStatus === \"error\") {\n            // handle error\n            return;\n        } else if (\n            allDependenciesStatus === \"loading\" ||\n            allMetadataStatus === \"loading\"\n        ) {\n            // not done loading\n            return;\n        }\n\n        // create graph\n        const tempGraph = new Graph();\n\n        // create dependencies object\n        const reformattedDeps = new Map();\n        allDependencies.forEach(query => {\n            if (query.isSuccess) {\n                reformattedDeps.set(\n                    query.data.data.parameters.name,\n                    query.data.data.dependencies,\n                );\n            }\n        });\n\n        // merge data together\n        allMetadata.forEach(query => {\n            const metadata = query.data.data.metadata ?? query.data.data.info;\n\n            const value = {\n                id: metadata.name.toLowerCase().replace(\".\", \"-\"),\n                label: metadata.name,\n                metadata: metadata,\n            };\n\n            // add package to graph\n            const node = tempGraph.addVertex(value.id, value);\n            node.parents = new Set();\n        });\n\n        const notRoot = [];\n        // cross check what dependencies the package has through thoth's database\n        // this is used to setup edges between nodes in the graph\n        Array.from(tempGraph.nodes.entries()).forEach(([key, value]) => {\n            // get dependencies from thoth\n            if (reformattedDeps.has(key)) {\n                reformattedDeps.get(key).forEach(dep => {\n                    const adjacentNode = tempGraph.nodes.get(dep.name);\n\n                    // if package exists in lockfile\n                    if (adjacentNode) {\n                        // add edge connecting parent and dependency\n                        tempGraph.addEdge(key, adjacentNode.value.id);\n                        // set parent\n                        adjacentNode.parents.add(key);\n                        notRoot.push(adjacentNode.value.id);\n                    }\n                });\n            } else {\n                // if no record in thoth, then use metadata dependencies\n                // these are not always as accurate\n                if (value?.value?.metadata?.requires_dist) {\n                    // for each dependency, parse to get name\n                    value.value.metadata.requires_dist.forEach(async adj => {\n                        const adjacentNode = tempGraph.nodes.get(\n                            adj\n                                .split(\" \", 1)[0]\n                                .toLowerCase()\n                                .replace(\".\", \"-\"),\n                        );\n\n                        // if package exists in lockfile\n                        if (adjacentNode) {\n                            // add edge connecting parent and dependency\n                            tempGraph.addEdge(key, adjacentNode.value.id);\n                            // set parent\n                            adjacentNode.parents.add(key);\n                            notRoot.push(adjacentNode.value.id);\n                        }\n                    });\n                }\n            }\n        });\n\n        /**\n         * Create graph using a traversal algorithm\n         */\n\n        // add app node to graph\n        const app = tempGraph.addVertex(\"*App\", {\n            id: \"*App\",\n            label: \"App\",\n            depth: -1,\n        });\n\n        notRoot.push(\"*App\");\n\n        const visited = new Map();\n        const visitList = [];\n\n        // get roots and connect to app\n        tempGraph.nodes.forEach((value, key, map) => {\n            if (\n                !notRoot.includes(key) ||\n                Object.keys(knownRoots).includes(key)\n            ) {\n                const node = map.get(key);\n                node.value.depth = 0;\n                node.parents.add(\"*App\");\n                visitList.push(node);\n                tempGraph.addEdge(app.key, node.key);\n            }\n        });\n\n        // set depth and parent packages using dfs\n        while (visitList.length !== 0) {\n            const node = visitList.pop();\n            if (node && !visited.has(node)) {\n                visited.set(node);\n\n                const adjs = node.getAdjacents();\n\n                for (var i = 0; i < adjs.length; i++) {\n                    // update depth\n                    adjs[i].value.depth = Math.min(\n                        node.value.depth + 1,\n                        adjs[i].value.depth ?? node.value.depth + 2,\n                    );\n                    visitList.push(adjs[i]);\n                }\n            }\n        }\n\n        setGraph(tempGraph);\n    }, [allMetadataStatus, allDependenciesStatus, knownRoots]);\n\n    return graph;\n}\n","import { useEffect, useMemo, useState } from \"react\";\n\nexport function useMetrics(oldGraph, newGraph, mergedGraph, adviseDocument) {\n    const adviseMetric = useAdviseMetric(mergedGraph, adviseDocument);\n    const oldDependencyMetric = useDependencyMetric(oldGraph);\n    const newDependencyMetric = useDependencyMetric(newGraph);\n    const oldLicenseMetric = useLicenseMetric(oldGraph);\n    const newLicenseMetric = useLicenseMetric(newGraph);\n\n    return useMemo(() => {\n        const base = {\n            advise: null,\n            oldGraph: { dependencies: null, licenses: null },\n            newGraph: { dependencies: null, licenses: null },\n        };\n\n        if (adviseMetric) {\n            base.advise = adviseMetric;\n        }\n        if (oldDependencyMetric) {\n            base.oldGraph.dependencies = oldDependencyMetric;\n        }\n        if (oldDependencyMetric) {\n            base.oldGraph.licenses = oldLicenseMetric;\n        }\n        if (newDependencyMetric) {\n            base.newGraph.dependencies = newDependencyMetric;\n        }\n        if (newLicenseMetric) {\n            base.newGraph.licenses = newLicenseMetric;\n        }\n\n        return base;\n    }, [\n        adviseMetric,\n        oldDependencyMetric,\n        oldLicenseMetric,\n        newDependencyMetric,\n        newLicenseMetric,\n    ]);\n}\n\nexport const useDependencyMetric = graph => {\n    const [metric, setMetric] = useState();\n\n    useEffect(() => {\n        if (!graph) {\n            return;\n        }\n\n        let base = {\n            all: {},\n            roots: {},\n        };\n\n        const roots = [];\n        graph.nodes.forEach(value => {\n            if (value.value.depth === 0) {\n                roots.push(value.key);\n            }\n        });\n\n        const visited = new Set();\n\n        // for each starting node\n        roots.forEach(root => {\n            const bfs = graph.graphSearch(graph.nodes.get(root));\n            const visitedOrder = Array.from(bfs);\n\n            visitedOrder.forEach(node => {\n                if (node.key === \"*App\") {\n                    return;\n                }\n\n                if (visited.has(node.value.id)) {\n                    return;\n                } else {\n                    visited.add(node.value.id);\n                }\n\n                const depth =\n                    node.value.depth === 0\n                        ? \"roots\"\n                        : node.value.depth === 1\n                        ? \"direct\"\n                        : \"indirect\";\n\n                // dependency metric\n                base = {\n                    all: {\n                        ...base.all,\n                        [depth]: (base.all[depth] ?? 0) + 1,\n                    },\n                    roots: {\n                        ...base.roots,\n                        [root]: {\n                            ...(base.roots[root] ?? null),\n                            [depth]: (base.roots?.[root]?.[depth] ?? 0) + 1,\n                        },\n                    },\n                };\n            });\n        });\n\n        setMetric(base);\n    }, [graph]);\n\n    return metric;\n};\n\nexport const useLicenseMetric = graph => {\n    const [metric, setMetric] = useState();\n\n    useEffect(() => {\n        if (!graph) {\n            return;\n        }\n\n        let base = {};\n\n        const roots = [];\n        graph.nodes.forEach(value => {\n            if (value.value.depth === 0) {\n                roots.push(value.key);\n            }\n        });\n\n        const visited = new Set();\n\n        // for each starting node\n        roots.forEach(root => {\n            const bfs = graph.graphSearch(graph.nodes.get(root));\n            const visitedOrder = Array.from(bfs);\n\n            visitedOrder.forEach(node => {\n                if (node.key === \"*App\") {\n                    return;\n                }\n\n                if (visited.has(node.value.id)) {\n                    return;\n                } else {\n                    visited.add(node.value.id);\n                }\n\n                // licence metric\n                const packageLicenses = [];\n\n                // get general classification\n                (\n                    node?.value?.metadata?.classifier ??\n                    node?.value?.metadata?.classifiers\n                )?.forEach(classifier => {\n                    const parsed = classifier.split(\" :: \");\n\n                    if (parsed[0] === \"License\") {\n                        if (parsed[1] === \"OSI Approved\") {\n                            packageLicenses.push({\n                                generalLicense:\n                                    parsed?.[2] ?? node.value.metadata.license,\n                                specificLicense: node.value.metadata.license,\n                                isOsiApproved: true,\n                            });\n                        } else {\n                            packageLicenses.push({\n                                generalLicense:\n                                    parsed?.[1] ?? node.value.metadata.license,\n                                specificLicense: node.value.metadata.license,\n                                isOsiApproved: false,\n                            });\n                        }\n                    }\n                });\n\n                if (packageLicenses.length === 0) {\n                    packageLicenses.push({\n                        generalLicense: node.value.metadata.license,\n                        specificLicense: node.value.metadata.license,\n                        isOsiApproved: null,\n                    });\n                }\n\n                // get specific classification\n                packageLicenses.forEach(license => {\n                    if (!base[license.generalLicense]) {\n                        base[license.generalLicense] = {\n                            packages: {},\n                            metadata: {\n                                isOsiApproved: license.isOsiApproved,\n                            },\n                        };\n                    }\n\n                    base = {\n                        ...base,\n                        [license.generalLicense]: {\n                            ...base[license.generalLicense],\n                            packages: {\n                                ...(base[license.generalLicense].packages ??\n                                    null),\n                                [node.value.label]: {\n                                    depth: node.value.depth,\n                                    specific: license.specificLicense,\n                                },\n                            },\n                        },\n                    };\n                });\n            });\n        });\n\n        setMetric(base);\n    }, [graph]);\n\n    return metric;\n};\n\nexport const useAdviseMetric = (graph, adviseDocument) => {\n    const [metric, setMetric] = useState();\n\n    useEffect(() => {\n        if (!graph || !adviseDocument) {\n            return;\n        }\n\n        const base = {\n            added: 0,\n            removed: 0,\n            version: 0,\n            unchanged: 0,\n            justification: {},\n            build: null,\n        };\n\n        // package changes\n        graph.nodes.forEach(node => {\n            switch (node.value.change) {\n                case \"added\":\n                    base.added++;\n                    break;\n                case \"removed\":\n                    base.removed++;\n                    break;\n                case \"version\":\n                    base.version++;\n                    break;\n                default:\n                    base.unchanged++;\n            }\n        });\n\n        //build environment\n        base.build = `We have analysed an application stack running on ${adviseDocument.metadata.os_release.name} ${adviseDocument.metadata.os_release.version}, running Python (${adviseDocument.metadata.python.implementation_name}) ${adviseDocument.metadata.python.major}.${adviseDocument.metadata.python.minor}.${adviseDocument.metadata.python.micro}. It was Adviser Job ID ${adviseDocument.metadata.document_id}, by ${adviseDocument.metadata.analyzer} v${adviseDocument.metadata.analyzer_version}.`;\n\n        //justification counts\n        adviseDocument?.result?.report?.products?.[0]?.justification.forEach(\n            justification => {\n                base.justification[justification.type] = base.justification[\n                    justification.type\n                ]\n                    ? base.justification[justification.type] + 1\n                    : 1;\n            },\n        );\n        setMetric(base);\n    }, [graph, adviseDocument]);\n\n    return metric;\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const AdviseNotFound = ({ analysis_id }) => {\n    return <div>`&quot;{analysis_id}&quot;` not found</div>;\n};\n\nAdviseNotFound.propTypes = {\n    analysis_id: PropTypes.string,\n};\n","import * as React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\n/**\n * Layout is used in most of the app and allows for backwards navigation.\n */\nexport const NavigationLayout = ({ children }) => {\n    const navigate = useNavigate();\n\n    return (\n        <>\n            <Button onClick={() => navigate(\"/\")}>go back</Button>\n            <div>{children}</div>\n        </>\n    );\n};\n\nNavigationLayout.propTypes = {\n    children: PropTypes.node,\n};\n","import React, { useMemo } from \"react\";\nimport { Route, Routes, useParams, Navigate } from \"react-router-dom\";\n\n// layouts\nimport { AdviseLayout } from \"components/Layout\";\n\n// sub-routes\nimport { AdviseSummary } from \"./AdviseSummary\";\nimport { AdviseDetails } from \"./AdviseDetails\";\n\n// feature specific imports\nimport { useAdviseDocument, useAdviseLogs } from \"../api\";\nimport { formatLockfile } from \"../utils\";\nimport { AdviseHeader } from \"../components\";\nimport { useMetrics, useMergeGraphs, useGraph } from \"../hooks\";\n\n// misc\nimport { CircularProgress } from \"@material-ui/core\";\nimport { AdviseNotFound } from \"./AdviseNotFound\";\nimport { NavigationLayout } from \"components/Layout/NavigationLayout\";\n\nexport const AdviseRoutes = () => {\n    // get document id\n    const { analysis_id } = useParams();\n\n    // api get thoth advise document\n    const adviseDocument = useAdviseDocument(analysis_id, {\n        useErrorBoundary: false,\n        refetchInterval: data => {\n            if (data?.data?.status) {\n                return 10000;\n            }\n            return false;\n        },\n    });\n\n    const logs = useAdviseLogs(analysis_id, {\n        useErrorBoundary: false,\n        refetchInterval: () => {\n            if (adviseDocument.data?.data?.status) {\n                return 10000;\n            }\n            return false;\n        },\n    });\n\n    // format init graph data\n    const initGraphData = useMemo(() => {\n        if (\n            adviseDocument.isSuccess &&\n            adviseDocument.data.data?.result?.parameters?.project\n                ?.requirements_locked\n        ) {\n            return formatLockfile(\n                adviseDocument.data.data.result.parameters.project\n                    .requirements_locked,\n            );\n        }\n    }, [adviseDocument]);\n\n    // format advise graph data\n    const adviseGraphData = useMemo(() => {\n        if (\n            adviseDocument.isSuccess &&\n            adviseDocument.data.data?.result?.report?.products?.[0]?.project\n                ?.requirements_locked\n        ) {\n            return formatLockfile(\n                adviseDocument.data.data.result.report.products[0].project\n                    .requirements_locked,\n            );\n        }\n    }, [adviseDocument]);\n\n    // create init graph\n    const initGraph = useGraph(\n        initGraphData ?? [],\n        adviseDocument.data?.data?.result?.parameters?.project?.requirements\n            ?.packages,\n    );\n    const adviseGraph = useGraph(\n        adviseGraphData ?? [],\n        adviseDocument.data?.data?.result?.report?.products?.[0]\n            ?.dependency_graph,\n    );\n\n    // merge graphs based on added, removed, changed packages\n    const mergedGraph = useMergeGraphs(\n        initGraph,\n        adviseGraph,\n        adviseDocument.data?.data,\n    );\n\n    // compute metric data\n    const metrics = useMetrics(\n        initGraph,\n        adviseGraph,\n        mergedGraph,\n        adviseDocument.data?.data,\n    );\n\n    if (adviseDocument.isLoading) {\n        return (\n            <div className=\"w-full h-48 flex justify-center items-center\">\n                <CircularProgress />\n            </div>\n        );\n    }\n\n    if (!adviseDocument.data) {\n        return (\n            <NavigationLayout>\n                <AdviseNotFound analysis_id={analysis_id} />\n            </NavigationLayout>\n        );\n    }\n\n    return (\n        <NavigationLayout>\n            <AdviseLayout\n                header={\n                    <AdviseHeader\n                        adviseDocument={adviseDocument.data.data}\n                        logs={logs.data?.data?.log}\n                    />\n                }\n            >\n                <Routes>\n                    <Route\n                        path=\"summary\"\n                        element={<AdviseSummary metrics={metrics} />}\n                    />\n                    <Route\n                        path=\"details\"\n                        element={<AdviseDetails mergedGraph={mergedGraph} />}\n                    />\n                    <Route path=\"*\" element={<Navigate to=\"summary\" />} />\n                </Routes>\n            </AdviseLayout>\n        </NavigationLayout>\n    );\n};\n","import { useEffect, useState } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { Graph } from \"utils/Graph\";\nimport { discoverPackageChanges } from \"../utils\";\n\nexport const useMergeGraphs = (oldGraph, newGraph, adviseDocument) => {\n    const [graph, setGraph] = useState();\n    const theme = useTheme();\n\n    useEffect(() => {\n        if (!oldGraph || !newGraph) {\n            return;\n        }\n\n        const visGraphEdges = [];\n        const mergedGraph = new Graph();\n\n        newGraph.nodes.forEach((value, key) => {\n            // get node\n            const combinedNode = newGraph.nodes.get(key);\n\n            // check if added, changed, or unchanged\n            // if added (old graph doesnt have the package)\n            if (!oldGraph.nodes.has(key)) {\n                combinedNode.value = {\n                    ...combinedNode.value,\n                    change: \"added\",\n                    label:\n                        value.value.label +\n                        \" \" +\n                        (value?.value?.metadata?.version ?? \"\"),\n                    font: {\n                        color: theme.palette.success.main,\n                    },\n                    color: theme.palette.success.main,\n                    version: value?.value?.metadata?.version ?? \"\",\n                    dependencies: value.adjacents.size,\n                    license: value?.value?.metadata?.license ?? \"\",\n                    lockfile: [\"new\"],\n                };\n            }\n            // if the graph is not new then it is either equal or the version changed\n            else {\n                // set values that wont change\n                combinedNode.value = {\n                    ...combinedNode.value,\n                    label:\n                        value.value.label +\n                        \" \" +\n                        (value?.value?.metadata?.version ?? \"\"),\n                    dependencies: value.adjacents.size,\n                    license: value?.value?.metadata?.license ?? \"\",\n                    lockfile: [\"new\", \"old\"],\n                };\n                // if the nodes are equal (version are the same)\n                if (\n                    value?.value?.metadata?.version ===\n                    oldGraph.nodes.get(key)?.value?.metadata?.version\n                ) {\n                    combinedNode.value = {\n                        ...combinedNode.value,\n                        version: value?.value?.metadata?.version ?? \"\",\n                        change: \"unchanged\",\n                    };\n                }\n                // if the version changed\n                else {\n                    combinedNode.value = {\n                        ...combinedNode.value,\n                        change: \"version\",\n                        version: value?.value?.metadata?.version ?? \"\",\n                        oldVersion:\n                            oldGraph.nodes.get(key)?.value?.metadata?.version ??\n                            \"\",\n                        font: {\n                            color: theme.palette.success.main,\n                        },\n                    };\n\n                    combinedNode.parents = [\n                        ...new Set([\n                            ...combinedNode.parents,\n                            ...(oldGraph.nodes.get(key)?.parents ?? []),\n                        ]),\n                    ];\n\n                    // merge the dependencies because they could be different\n                    oldGraph.nodes\n                        .get(key)\n                        .getAdjacents()\n                        .forEach(item => combinedNode.adjacents.add(item));\n                    newGraph.nodes\n                        .get(key)\n                        .getAdjacents()\n                        .forEach(item => combinedNode.adjacents.add(item));\n                }\n            }\n\n            mergedGraph.nodes.set(key, combinedNode);\n        });\n\n        oldGraph.nodes.forEach((value, key) => {\n            // get node\n            const combinedNode = oldGraph.nodes.get(key);\n\n            // only checking if package was removed\n            if (!newGraph.nodes.has(key)) {\n                combinedNode.value = {\n                    ...combinedNode.value,\n                    change: \"removed\",\n                    label:\n                        value.value.label +\n                        \" \" +\n                        (value?.value?.metadata?.version ?? \"\"),\n                    font: {\n                        color: theme.palette.error.main,\n                    },\n                    color: theme.palette.error.main,\n                    version: value?.value?.metadata?.version ?? \"\",\n                    dependencies: value.adjacents.size,\n                    license: value?.value?.metadata?.license ?? \"\",\n                    lockfile: [\"old\"],\n                };\n\n                mergedGraph.nodes.set(key, combinedNode);\n            }\n        });\n\n        // add edges from old graph\n        oldGraph.nodes.forEach(value => {\n            // set package edges\n            value.adjacents.forEach(adj => {\n                visGraphEdges.push({\n                    to: value.value.id,\n                    from: adj.value.id,\n                    lockfile: \"old\",\n                });\n            });\n        });\n\n        // add edges from new graph\n        newGraph.nodes.forEach(value => {\n            // set package edges\n            value.adjacents.forEach(adj => {\n                visGraphEdges.push({\n                    to: value.value.id,\n                    from: adj.value.id,\n                    lockfile: \"new\",\n                });\n            });\n        });\n\n        // set justifications\n        discoverPackageChanges(\n            mergedGraph.nodes,\n            adviseDocument.result.report?.products?.[0]?.justification,\n        );\n\n        // add edges to merged graph Object\n        mergedGraph[\"visEdges\"] = visGraphEdges;\n\n        setGraph(mergedGraph);\n    }, [oldGraph, newGraph, adviseDocument, theme]);\n\n    return graph;\n};\n","import React from \"react\";\n\n// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\n\n// utils\nimport timeSince from \"utils/timeSince\";\nimport PropTypes from \"prop-types\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n    titleRow: {\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n    marginLeft: {\n        marginLeft: theme.spacing(2),\n    },\n    linksRow: {\n        display: \"flex\",\n    },\n}));\n\n/**\n * A header for package metadata.\n */\nexport const PackageHeader = ({ metadata }) => {\n    const classes = useStyles();\n\n    return (\n        <div>\n            <div className={classes.titleRow}>\n                <Typography variant=\"h4\">\n                    <b>{metadata?.name}</b>\n                </Typography>\n                <Typography ml={2} variant=\"h6\">\n                    {metadata?.version ?? \"NaN\"}\n                </Typography>\n            </div>\n\n            <Typography gutterBottom variant=\"body1\">\n                {metadata?.summary ?? \"NaN\"}\n            </Typography>\n            <div className={classes.linksRow}>\n                <IconText\n                    text={metadata?.license ?? \"NaN\"}\n                    icon={<GavelIcon />}\n                />\n                <IconText\n                    className={classes.marginLeft}\n                    text={\n                        \"Latest version published \" +\n                        timeSince(\n                            new Date(\n                                metadata?.all_versions?.[\n                                    metadata?.latest_version\n                                ]?.date,\n                            ),\n                        ) +\n                        \" ago.\"\n                    }\n                    icon={<BookmarkIcon />}\n                />\n            </div>\n        </div>\n    );\n};\n\nPackageHeader.propTypes = {\n    /** Package metadata object.*/\n    metadata: PropTypes.shape({\n        /** Name of package. */\n        name: PropTypes.string.isRequired,\n        /** Version of package. */\n        version: PropTypes.string.isRequired,\n        /** The latest version of the package. (used to calculate the time sense last update) */\n        latest_version: PropTypes.string,\n        /** Description of package. */\n        summary: PropTypes.string,\n        /** License of package */\n        license: PropTypes.string,\n        /** specific all versions object with each key being a version and having a param of date.\n         *\n         * ```\n         * all_versions: {\n         *     1.2.3: {\n         *         date: \"12-2-2020\"\n         *     }\n         * }\n         * ```\n         */\n        all_versions: PropTypes.object,\n    }),\n};\n","// React\nimport React from \"react\";\n\n// local\nimport { PackageHeader } from \"../components\";\n\n// material-ui\nimport { Grid } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport PropTypes from \"prop-types\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        maxWidth: \"95%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        paddingRight: theme.spacing(3),\n        paddingLeft: theme.spacing(3),\n        marginTop: theme.spacing(4),\n    },\n}));\n\n// The page that displays all analysis data\nexport const PackageOverview = ({ metadata }) => {\n    const classes = useStyles();\n\n    return (\n        <Grid container className={classes.root}>\n            <Grid item xs={12}>\n                <PackageHeader metadata={metadata} />\n            </Grid>\n        </Grid>\n    );\n};\n\nPackageOverview.propTypes = {\n    metadata: PropTypes.object,\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n    bar: {\n        marginBottom: theme.spacing(1),\n    },\n}));\n\n/**\n * A metric card displaying dependency information of a single package.\n */\nexport const PackageDependencies = ({ metric }) => {\n    const classes = useStyles();\n    const totalDependencies =\n        (metric.all.direct ?? 0) + (metric.all.indirect ?? 0);\n\n    return (\n        <div>\n            <ProgressBar\n                value={metric.all.direct ?? 0}\n                total={totalDependencies}\n                label={\"Direct\"}\n                className={classes.bar}\n            />\n\n            <ProgressBar\n                value={metric.all.indirect ?? 0}\n                total={totalDependencies}\n                label={\"Indirect\"}\n            />\n        </div>\n    );\n};\n\nPackageDependencies.propTypes = {\n    /** An object holding metric info. */\n    metric: PropTypes.shape({\n        /**\n         * ```\n         * all: {\n         *     direct: 6,\n         *     indirect: 22\n         * }\n         * ```\n         */\n        all: PropTypes.shape({\n            /** Direct dependencies of the package. */\n            direct: PropTypes.number,\n            /** Indirect dependencies of the package (dependencies of direct and indirect packages) */\n            indirect: PropTypes.number,\n        }),\n    }),\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n    bar: {\n        marginBottom: theme.spacing(1),\n    },\n    marginBottom: {\n        marginBottom: theme.spacing(2),\n    },\n}));\n\n/**\n * A metric card showing a package's (and its dependencies') licenses\n */\nexport const PackageLicenses = ({ metric }) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <Typography variant=\"body2\" gutterBottom>\n                <b>License</b>\n            </Typography>\n            <Divider />\n            <Typography className={classes.marginBottom} variant=\"h6\">\n                {metric.root}\n            </Typography>\n            <Typography variant=\"body2\" gutterBottom>\n                <b>Dependency Licenses</b>\n            </Typography>\n            <Divider />\n\n            {Object.entries(metric?.all ?? {}).map(([key, value]) => {\n                return (\n                    <ProgressBar\n                        key={key}\n                        value={Object.keys(value).length ?? 0}\n                        total={metric.total}\n                        label={key}\n                        className={classes.bar}\n                    />\n                );\n            })}\n        </div>\n    );\n};\n\nPackageLicenses.propTypes = {\n    metric: PropTypes.shape({\n        /** The total number of dependencies of the package */\n        total: PropTypes.number,\n        /** The license of the root package */\n        root: PropTypes.string,\n        /** key value object of package's dependencies' licenses\n         *\n         * ```\n         * all: {\n         *     MIT: {\n         *\n         *     }\n         * }\n         * ```\n         * */\n        all: PropTypes.object,\n    }).isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const PackageNotFound = ({ package_name, package_version }) => {\n    return (\n        <div>\n            `&quot;{package_name}\n            {package_version ? \" \" + package_version : \"\"}&quot;` not found\n        </div>\n    );\n};\n\nPackageNotFound.propTypes = {\n    package_name: PropTypes.string,\n    package_version: PropTypes.string,\n};\n","// React\nimport React from \"react\";\nimport { Route, Routes, useParams } from \"react-router-dom\";\n\n// material-ui\nimport { CircularProgress } from \"@material-ui/core\";\n\n//api\nimport { usePackageMetadata } from \"features/misc/api\";\nimport { PackageOverview } from \"./PackageOverview\";\nimport { NotFound } from \"features/misc\";\nimport { PackageNotFound } from \"./PackageNotFound\";\nimport { NavigationLayout } from \"../../../components/Layout/NavigationLayout\";\n\n// The page that displays all analysis data\nexport const PackageRoutes = () => {\n    const params = useParams();\n    const metadata = usePackageMetadata(params.package_name, params[\"*\"]);\n\n    if (metadata.isLoading) {\n        return (\n            <div className=\"w-full h-48 flex justify-center items-center\">\n                <CircularProgress />\n            </div>\n        );\n    }\n\n    if (!metadata.data) {\n        return (\n            <PackageNotFound\n                package_name={params.package_name}\n                package_version={params[\"*\"]}\n            />\n        );\n    }\n\n    return (\n        <NavigationLayout>\n            <Routes>\n                <Route\n                    path=\"/:package_version\"\n                    element={\n                        <PackageOverview\n                            metadata={\n                                metadata.data.data.metadata ??\n                                metadata.data.data.info\n                            }\n                        />\n                    }\n                />\n                <Route\n                    path=\"/\"\n                    element={\n                        <PackageOverview\n                            metadata={\n                                metadata.data.data.metadata ??\n                                metadata.data.data.info\n                            }\n                        />\n                    }\n                />\n                <Route path=\"*\" status={404} element={<NotFound />} />\n            </Routes>\n        </NavigationLayout>\n    );\n};\n","import React from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport { Home } from \"features/home\";\nimport { NotFound } from \"features/misc\";\nimport { AdviseRoutes } from \"features/advise\";\nimport { PackageRoutes } from \"features/package\";\n\nexport const RouterConfig = () => {\n    return (\n        <BrowserRouter basename={\"/thoth-search\"}>\n            <Routes>\n                <Route exact path={\"/\"} element={<Home />} />\n                <Route\n                    exact\n                    path={\"advise/:analysis_id/*\"}\n                    element={<AdviseRoutes />}\n                />\n                <Route\n                    path={\"package/:package_name/*\"}\n                    element={<PackageRoutes />}\n                />\n                <Route path=\"*\" status={404} element={<NotFound />} />\n            </Routes>\n        </BrowserRouter>\n    );\n};\n\nexport default RouterConfig;\n","import React from \"react\";\n\n// material ui\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport { createTheme } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\n\nconst themeLight = createTheme({\n    palette: {\n        background: {\n            default: \"#f9f9f9\",\n        },\n        primary: {\n            light: \"#f5a733\",\n            main: \"#f39200\",\n            dark: \"#aa6600\",\n        },\n        secondary: {\n            light: \"#72cdee\",\n            main: \"#4fc1ea\",\n            dark: \"#3787a3\",\n        },\n        text: {\n            priamry: \"#363636\",\n            secondary: \"#999\",\n        },\n    },\n    typography: {\n        fontFamily: [\"open sans\", \"sans-serif\"],\n        h4: {\n            fontWeight: 700,\n            fontSize: \"3rem\",\n            color: \"#363636\",\n            lineHeight: 1.125,\n        },\n        h5: {\n            fontWeight: 600,\n            fontSize: \"2rem\",\n            lineHeight: 1.125,\n            color: \"#363636\",\n        },\n        h6: {\n            fontWeight: 600,\n            fontSize: \"1.2rem\",\n            color: \"#444f60\",\n            lineHeight: 1.5,\n        },\n\n        body1: {\n            fontWeight: 400,\n            fontSize: \"1.25rem\",\n            lineHeight: 1.25,\n            color: \"#000\",\n        },\n\n        body2: {\n            fontWeight: 400,\n            fontSize: \"1rem\",\n            lineHeight: 1.5,\n            color: \"#000\",\n        },\n        subtitle1: {\n            fontWeight: 400,\n            fontSize: \"1.25rem\",\n            lineHeight: 1.25,\n            color: \"#999\",\n        },\n\n        subtitle2: {\n            fontWeight: 400,\n            fontSize: \"1rem\",\n            lineHeight: 1.5,\n            color: \"#999\",\n        },\n    },\n});\n\nfunction Theme({ children }) {\n    return (\n        <ThemeProvider theme={themeLight}>\n            <CssBaseline />\n            {children}\n        </ThemeProvider>\n    );\n}\n\nTheme.propTypes = {\n    children: PropTypes.node,\n};\n\nexport default Theme;\n","import * as React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const StateContext = React.createContext(undefined);\nexport const DispatchContext = React.createContext(undefined);\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        default:\n            throw new Error(\"State dispatch error\");\n    }\n}\n\nexport const initState = {};\n\nexport default function Global({ children }) {\n    // for state control\n    const [state, dispatch] = React.useReducer(reducer, initState);\n    return (\n        <StateContext.Provider value={state}>\n            <DispatchContext.Provider value={dispatch}>\n                {children}\n            </DispatchContext.Provider>\n        </StateContext.Provider>\n    );\n}\n\nGlobal.propTypes = {\n    children: PropTypes.node,\n};\n","import * as React from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { QueryClientProvider } from \"react-query\";\nimport { queryClient } from \"lib/react-query\";\nimport RouterConfig from \"routes/RouterConfig\";\nimport { Button } from \"@material-ui/core\";\nimport Theme from \"styles/Theme\";\nimport Global from \"stores/Global\";\nimport { MainLayout } from \"components/Layout\";\n\nconst ErrorFallback = () => {\n    return (\n        <div>\n            <h2>Oops, something went wrong :( </h2>\n            <Button\n                onClick={() => window.location.assign(window.location.origin)}\n            >\n                Refresh\n            </Button>\n        </div>\n    );\n};\n\nexport const AppProvider = () => {\n    return (\n        <Theme>\n            <Global>\n                <ErrorBoundary FallbackComponent={ErrorFallback}>\n                    <QueryClientProvider client={queryClient}>\n                        <MainLayout>\n                            <RouterConfig />\n                        </MainLayout>\n                    </QueryClientProvider>\n                </ErrorBoundary>\n            </Global>\n        </Theme>\n    );\n};\n","import React from \"react\";\nimport { AppProvider } from \"./providers/app\";\n\nfunction App() {\n    return <AppProvider />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}